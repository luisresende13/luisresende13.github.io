{"version":3,"sources":["assets/wallpaper.jpg","styles/entrancesStyles.js","components/subcomponents/UserEntryCards.js","shared/dateRange.js","components/EntrancesComponent.js","styles/postEntryStyles.js","components/subcomponents/EditEmotions.js","components/subcomponents/GoogleMapsAPI.js","components/subcomponents/OpenWeatherMapAPI.js","components/PostEntryComponent.js","styles/loginStyles.js","components/LoginComponent.js","App.js","shared/emotionsConfig.js"],"names":["module","exports","styles","mainView","flex","postButton","position","height","width","borderRadius","bottom","alignSelf","backgroundColor","justifyContent","postButtonLabel","scrollView","borderWidth","section","paddingVertical","borderBottomWidth","borderColor","sectionTitle","fontSize","color","fontWeight","card","marginTop","paddingHorizontal","cardRow","flexDirection","alignItems","moodBadge","textAlign","emotionBadge","marginRight","textBadge","paddingTop","paddingBottom","lineHeight","textAlignVertical","text","spaceBetween","icon","entryIcon","paddingRight","editButtonsView","editButton","editButtonLabel","msgBox","msg","corsURI","Platform","OS","moodColors","monthDict","MoodHeader","entry","View","style","Text","mood","star","name","fill","weather","Image","source","uri","main","temp","toString","slice","startTime","Address","useState","isCollapsed","setIsCollapsed","address","numberOfLines","onPress","top","Emotions","emotions","length","flexWrap","PaddingBottom","map","emotion","index","Jornal","jornal","left","EmptyCard","props","today","date","now","Date","split","join","Today","navigateParams","user","currentEntry","type","syncUserData","setMainScreenState","getMainScreenState","textStyle","Pressable","navigation","navigate","CardsLoadingMessage","UserEntryCards","state","EntryCard","bind","EditEntryButtons","editUserEntry","deleteUserEntry","console","log","setInterval","updateIfPosted","this","posted","status","forgetPosted","setSelectedEntryId","selectedEntryId","_id","entryId","selDateEntries","entries","filter","reverse","isUserDataSyncing","onButtonPress","isButtonPressed","setIsButtonPressed","highlightButtonFor","label","isLoading","isDeleteLoading","buttonLabel","disabled","onPressIn","ActivityIndicator","selectedEntry","a","async","setIsDeleteEntryLoading","UsersResult","ok","fetch","username","method","usersStatus","statusText","Error","setAlertMsg","UserEntryCardsList","Component","dateRange","englishMonthSigs","portugueseMonthSigs","englishWeekDayMap","getNextDate","next","nextDate","indexOf","formatDate","selDate","ymd","yesterday","englishWeekDay","weekDay","prefix","i","oneDigit","stringNumber","EntrancesScreen","DateNavigationButton","buttonColor","onNextButtonPress","route","params","time","selectedDate","userDataSynced","isDeleteEntryLoading","alertMsg","locationPermission","setUserInfo","id","setState","value","setSelectedDate","setParams","setTimeout","json","users","email","ImageBackground","require","ScrollView","size","login","StatusBar","currentHeight","entrances","content","flexGrow","contentRow","padding","entryTitle","paddingLeft","postButtonView","moodButtonView","moodButton","jornalText","saveButton","borderTopLeftRadius","borderTopRightRadius","saveButtonLabel","marginVertical","marginHorizontal","entryCardEmotionBadge","datetimeTitle","capitalize","multipleWordString","words","CapitalizedWords","forEach","element","push","toUpperCase","EditEmotions","showEditMenu","showExpandMenuButton","mode","newEmotionName","selectedEmotionType","selectedEmotionEnergy","EditEmotionsMenu","EditEmotionsSection","onSaveEmotionButtonPress","inputSectionStyle","marginBottom","tagStyle","createEmotionViewStyle","borderTopWidth","borderTopColor","isDeleteEmotionLoading","isSaveEmotionLoading","isPostEntryLoading","isUpdateUserDataLoading","isNewEmotionFormComplete","TextInput","placeholder","placeholderTextColor","onChangeText","typeSelected","setParentState","deleteEmotionMode","hidden","anyOpen","marginLeft","Object","keys","isSelectedEmotions","includes","newEmotion","energy","postEmotionResult","postUserEntryOpts","headers","body","JSON","stringify","postEmotionStatus","updateUserData","GoogleMapsAPI","GoogleMapsJavascriptAPIkey","GoogleMapsGeocodingAPIKey","OpenWeatherMapAPI","KEY","Location","moods","moodColorsRGBA","moodIcons","emotionGroupsNames","emotionTypes","buildIsSelectedEmotions","monthSigs","months","monthNameMap","monthSig","getTime","formatPostEntryDatetimeTitle","m","PostEntranceScreen","endTime","createdAt","lastEdited","selectedMood","jornalEntry","location","isMoodUnmarked","isFetchingLocationOrWeather","userCoordinates","loginMsg","initializeEntry","onSaveButtonPress","setLoginMsg","EmotionButtons","MoodButtons","postEntryHeader","onEmotionButtonPress","onMoodButtonPress","inputCardBody","setSelectedEntry","InputCard","JornalInput","postNewEntryAsync","deleteEmotion","onEmotionButtonLongPress","goBack","item","alpha","selected","selColor","selectMood","objList","objKey","obj","sortedKeys","sort","newObjList","key","sortObjListByKey","title","onLongPress","suppressHighlighting","selectable","selectEmotion","multiline","scrollEnabled","sectionName","cardBodyStyle","cardBodyContent","layout","userEmotionGroups","emotionLabels","mapEmotions","setSelected","checkIfLocationEnabled","getCurrentLocation","fetchWeather","currentEmotions","isSelectedEmotionsNew","oldEmotions","newEmotionsSelected","isDataLoading","newEntryPost","newEntry","editMode","postUserEntryResult","postUserEntryStatus","coords","lat","latitude","lng","longitude","then","res","resStatus","weatherInfo","coord","clouds","wind","visibility","response","addressObj","street","streetNumber","district","subregion","region","isoCountryCode","minHeight","titleView","titleIcon","cardHeader","cardTitle","cardSection","loadingIcon","inputField","button","defaultEmotions","falseParams","appendValueToUri","validateEmail","emailStatus","apiResp","apiRespJson","formatCheck","smtpCheck","LoginScreen","textContentType","autoComplete","importantForAutofill","secureTextEntry","submitButton","LoginIcon","userInfo","password","isUserAuth","onSignIn","onSignUp","animation","textField","setField","sign","signIn","errMsg","info","trim","isInputEmpty","UsersStatus","Users","authUser","postUserResult","emailValidation","reqStatus","passwordCheck","postUserOpts","postUserStatus","successMsg","Stack","createNativeStackNavigator","HomeScreen","Navigator","initialRouteName","screenOptions","headerShown","Screen","component","options","initialParams","App","NavigationContainer","emotionGroups","emotionEnergy"],"mappings":"yEAAAA,EAAOC,QAAU,IAA0B,uC,uUCsK5BC,EAzIA,CACXC,SAAU,CACNC,KAAM,GAGVC,WAAY,CACRC,SAAU,WACVC,OAAQ,GACRC,MAAO,GACPC,aAAc,GACdC,OAAQ,KACRC,UAAW,SACXC,gBAAiB,gBACjBC,eAAgB,UAEpBC,gBAAiB,CACbH,UAAW,UAEfI,WAAY,CAERX,KAAM,EAGNY,YAAa,GAGjBC,QAAS,CACLT,MAAO,IACPU,gBAAiB,MACjBC,kBAAmB,EACnBC,YAAa,wBACbT,UAAW,UAEfU,aAAc,CACVH,gBAAiB,IACjBI,SAAU,GACVC,MAAO,QACPC,WAAY,OAEhBC,KAAM,CACFC,UAAW,KACXR,gBAAiB,EACjBS,kBAAmB,GACnBlB,aAAc,GACdG,gBAAiB,mBAErBgB,QAAS,CACLC,cAAe,MACfX,gBAAiB,EACjBY,WAAY,UAEhBC,UAAW,CAEPnB,gBAAiB,QACjBH,aAAc,GACdS,gBAAiB,EACjBV,MAAO,IACPc,SAAU,GACVU,UAAW,UAEfC,aAAc,CAEVrB,gBAAiB,YACjBH,aAAc,GACdS,gBAAiB,EACjBS,kBAAmB,KACnBO,YAAa,EACbZ,SAAU,GACVU,UAAW,UAEfG,UAAW,CACPvB,gBAAiB,YACjBH,aAAc,GACd2B,WAAY,EACZC,cAAe,EACfV,kBAAmB,GACnBnB,MAAO,OACPc,SAAU,GACVgB,WAAY,GACZN,UAAW,OACXO,kBAAmB,OAEvBC,KAAM,CAEFlB,SAAU,GACVC,MAAO,SAEXkB,aAAc,CACV5B,eAAgB,iBAEpB6B,KAAM,CACFf,kBAAmB,IAEvBgB,UAAW,CACPC,aAAc,EACd5B,YAAa,GAEjB6B,gBAAiB,CACbhB,cAAe,MACftB,OAAQ,GACR8B,cAAe,EACfP,WAAY,WACZjB,eAAgB,iBAEpBiC,WAAY,CACRvC,OAAQ,GACRC,MAAO,IACPQ,YAAa,EACbI,YAAa,YACbX,aAAc,GACdqB,WAAY,SACZjB,eAAgB,UAEpBkC,gBAAiB,CACbzB,SAAU,GACVE,WAAY,MACZD,MAAO,SAEXyB,OAAQ,CACJ1C,SAAU,WACVK,UAAW,SACXD,OAAQ,IACRF,MAAO,IACPD,OAAQ,GACRM,eAAgB,SAChBD,gBAAiB,gBACjBI,YAAa,EACbI,YAAa,iBAGjB6B,IAAK,CACDjB,UAAW,SACXT,MAAO,U,u/BCxJf,IAAM2B,EAAyB,OAAfC,IAASC,GAAc,+CAAiD,GAexF,IAAMC,EAAa,CAAC,cAAY,UAAW,IAAO,UAAW,QAAW,UAAW,IAAO,UAAW,WAAS,WAExGC,EAAY,CAAC,IAAO,KAAM,IAAO,KAAM,IAAO,KAAM,IAAO,KAAM,IAAO,KAAM,IAAO,KAAM,IAAO,KAAM,IAAO,KAAM,IAAO,KAAM,IAAO,KAAM,IAAO,KAAM,IAAO,MAOzK,SAASC,EAAT,GAA8B,IApBGb,EAoBZc,EAAQ,EAARA,MACjB,OACI,eAACC,EAAA,EAAD,CAAMC,MAAQ,CAACxD,EAAO0B,QAAS1B,EAAOuC,cAAtC,UACI,eAACgB,EAAA,EAAD,CAAMC,MAAQ,CAAC,CAAC7B,cAAe,MAAOC,WAAY,WAAlD,UACI,cAAC6B,EAAA,EAAD,CAAMD,MAAO,CAACxD,EAAO6B,UAAW,CAACnB,gBAAiByC,EAAWG,EAAMI,QAAnE,SAA6EJ,EAAMI,OAC7EJ,EAAMK,KACR,cAACJ,EAAA,EAAD,CAAMC,MAAO,CAACnD,OAAQ,GAAIC,MAAO,GAAIsB,WAAY,WAAYjB,eAAgB,UAA7E,SACI,cAAC,OAAD,CAAMiD,KAAK,OAAOC,KAAK,OAAOvD,MAAO,GAAID,OAAQ,GAAImD,MAAO,OAE5D,6BACFF,EAAMQ,QACJ,cAACP,EAAA,EAAD,CAAMC,MAAO,CAACnD,OAAQ,GAAIC,MAAO,GAAIsB,WAAY,WAAYjB,eAAgB,UAA7E,SACI,cAACoD,EAAA,EAAD,CAAOC,OAAQ,CAACC,KAhCXzB,EAgCuCc,EAAMQ,QAAQA,QAAQtB,KA/BtE,YAAhBS,IAASC,GACH,oCAAqCV,EAA3C,UAEuB,QAAhBS,IAASC,GACV,qCAAsCV,EAA5C,eADG,IA4B2FgB,MAAO,CAAClD,MAAO,GAAID,OAAQ,QAEzG,6BACFiD,EAAMQ,QACJ,cAACP,EAAA,EAAD,CAAMC,MAAO,CAACnD,OAAQ,GAAIC,MAAO,GAAIsB,WAAY,WAAYjB,eAAgB,UAA7E,SACI,eAAC8C,EAAA,EAAD,CAAMD,MAAO,CAACpC,SAAU,GAAIE,WAAY,MAAOD,MAAM,SAArD,cAAkEiC,EAAMQ,QAAQI,KAAKC,KAAKC,WAAWC,MAAM,EAAE,GAAK,QAAlH,SAEJ,gCAGZ,eAACd,EAAA,EAAD,CAAMC,MAAO,CAACxD,EAAO0B,SAArB,UACI,cAAC,OAAD,CAAMkC,KAAK,OAAOvD,OAAQ,GAAIC,MAAO,GAAIuD,KAAK,yBAAyBL,MAAO,CAACxB,YAAa,KAC5F,cAACyB,EAAA,EAAD,CAAMD,MAAOxD,EAAOsC,KAApB,SAA2BgB,EAAMgB,UAAUD,MAAM,EAAE,WAOnE,SAASE,EAAT,GAA4B,IAATjB,EAAQ,EAARA,MAEf,EAAsCkB,mBAAU,GAAhD,WAAOC,EAAP,KAAoBC,EAApB,KACA,OAAIpB,EAAMqB,QAEF,cAACpB,EAAA,EAAD,CAAMC,MAAOxD,EAAO0B,QAApB,SACI,eAAC+B,EAAA,EAAD,CAAMmB,cAAgBH,EAAcI,QAAU,WAAQH,EAAgBD,EAAc,EAAI,IAAOjB,MAAOxD,EAAOsC,KAA7G,UACI,cAAC,OAAD,CAAMsB,KAAK,MAAMvD,OAAQ,GAAIC,MAAO,GAAIuD,KAAK,yBAAyBL,MAAO,CAACpD,SAAU,WAAY4B,YAAa,EAAG8C,IAAK,KACxHxB,EAAMqB,aAKZ,6BAIf,SAASI,EAAT,GAA6B,IAATzB,EAAQ,EAARA,MAChB,OAAIA,EAAM0B,SAASC,OAAO,EAElB,cAAC1B,EAAA,EAAD,CAAMC,MAAO,CAACxD,EAAO0B,QAAS,CAACwD,SAAU,OAAQvE,eAAgB,aAAcuB,WAAY,EAAGiD,cAAe,IAA7G,SACM7B,EAAM0B,SAASI,KAAI,SAACC,EAASC,GAI3B,OAHID,EAAQzB,OACRyB,EAAUA,EAAQzB,MAGlB,cAACL,EAAA,EAAD,CAAiCC,MAAO,CAACxC,gBAAiB,EAAGS,kBAAmB,GAAhF,SACI,cAACgC,EAAA,EAAD,CAAMD,MAAO,CAACxD,EAAO+B,cAArB,SAAqCsD,KAD9B,WAAaA,QASpC,6BAKZ,SAASE,EAAT,GAA4B,IAAVjC,EAAS,EAATA,MACd,OAAIA,EAAMkC,OAEF,cAACjC,EAAA,EAAD,CAAMC,MAAOxD,EAAO0B,QAApB,SACI,eAAC+B,EAAA,EAAD,CAAMD,MAAOxD,EAAOiC,UAApB,UACI,cAAC,OAAD,CAAM2B,KAAK,YAAYvD,OAAQ,GAAIC,MAAO,GAAIuD,KAAK,mBAAmBL,MAAO,CAACpD,SAAU,WAAY0E,IAAK,EAAGW,KAAM,EAAGzD,YAAa,KACjIsB,EAAMkC,YAKZ,6BAIf,SAASE,EAAUC,GACf,IAAMC,EAAQD,EAAME,MA7FxB,WACI,IAAMC,EAAMC,OAAO3B,WAAW4B,MAAM,KAEpC,MADc,CAAEF,EAAI,GAAI1C,EAAU0C,EAAI,IAAKA,EAAI,IAAKG,KAAK,KA2F7BC,GACtBC,EAAiB,CACnBC,KAAMT,EAAMS,KACZC,aAAc,CACVC,KAAMV,EAAQ,MAAQ,cACtBC,KAAMF,EAAME,KACZvC,MAAO,MAEXiD,aAAcZ,EAAMY,aACpBC,mBAAoBb,EAAMa,mBAC1BC,mBAAoBd,EAAMc,oBAGxBC,EAAY,CAACtF,SAAU,GAAIC,MAAO,QAASG,UAAW,GAC5D,OACI,eAACmF,EAAA,EAAD,CACA9B,QAAU,kBAAMc,EAAMiB,WAAWC,SAAS,eAAgBV,IAC1D3C,MAAO,CAACxD,EAAOuB,KAAM,CAACK,WAAY,SAAUjB,eAAgB,SAAUS,SAAU,GAAIf,OAAQ,MAF5F,UAII,cAAC,OAAD,CAAMuD,KAAK,QAAQC,KAAK,wBAAwBvD,MAAO,GAAID,OAAQ,KACnE,cAACoD,EAAA,EAAD,CAAMD,MAAOkD,EAAb,2CACA,cAACjD,EAAA,EAAD,CAAMD,MAAOkD,EAAb,gEAKZ,SAASI,IACL,OACI,eAACvD,EAAA,EAAD,CAAMC,MAAO,CAACxD,EAAOuB,KAAM,CAACK,WAAY,SAAUjB,eAAgB,SAAUN,OAAQ,KAApF,UACI,cAAC,OAAD,CAAMuD,KAAK,eAAeC,KAAK,sBAAsBvD,MAAO,GAAID,OAAQ,KACxE,cAACoD,EAAA,EAAD,CAAMD,MAAO,CAAChC,UAAW,GAAIJ,SAAU,GAAIC,MAAO,SAAlD,0C,IAKS0F,E,gCAEjB,WAAYpB,GAAQ,IAAD,sBACf,cAAMA,IACDqB,MAAQ,GAEb,EAAKC,UAAY,EAAKA,UAAUC,KAAf,QACjB,EAAKC,iBAAmB,EAAKA,iBAAiBD,KAAtB,QACxB,EAAKE,cAAgB,EAAKA,cAAcF,KAAnB,QACrB,EAAKG,gBAAkB,EAAKA,gBAAgBH,KAArB,QAPR,E,6CAUnB,WAAqB,IAAD,OAChBI,QAAQC,IAAI,8CACZC,aAAa,WAAQ,EAAKC,mBAAoB,O,kCAIlD,WACIH,QAAQC,IAAI,oD,4BAGhB,WACQG,KAAK/B,MAAMgC,OAAOC,SAClBN,QAAQC,IAAI,wEACZG,KAAK/B,MAAMkC,eACXH,KAAK/B,MAAMY,kB,uBAInB,YAAsB,IAAVjD,EAAS,EAATA,MAIR,OACA,eAACqD,EAAA,EAAD,CAAW9B,QAJX,WACI6C,KAAK/B,MAAMmC,mBAAmBJ,KAAK/B,MAAMoC,kBAAoBzE,EAAM0E,IAAM,KAAO1E,EAAM0E,MAGrDd,KAAKQ,MAAOlE,MAAOxD,EAAOuB,KAA/D,UACI,cAAC8B,EAAD,CAAYC,MAAOA,IACnB,cAACyB,EAAD,CAAUzB,MAAOA,IACjB,cAACiB,EAAD,CAASjB,MAAOA,IAChB,cAACiC,EAAD,CAAQjC,MAAOA,IACf,mBAAM6D,iBAAN,CAAuBc,QAAS3E,EAAM0E,W,gCAK9C,WAAsB,IAAD,OACXE,EAAiBR,KAAK/B,MAAMS,KAAK+B,QAAQC,QAAQ,SAAC9E,GAAD,OAAWA,EAAMuC,OAAS,EAAKF,MAAME,QAAOwC,UACnG,OAAIH,EAAejD,OAEX,mCACMiD,EAAe9C,KAAK,SAAA9B,GAAK,OAAI,cAAC,EAAK2D,UAAN,CAAoD3D,MAAOA,GAAtC,cAAcA,EAAMgB,gBAKzEoD,KAAK/B,MAAM2C,kBACX,cAACxB,EAAD,IAGA,cAACpB,EAAD,KAAegC,KAAK/B,U,8BAInC,SAAiBA,GAAQ,IAAD,OAEd4C,EAAgB,CAAE,OAAUb,KAAKN,cAAe,QAAWM,KAAKL,iBAEtE,EAA8C7C,mBAAS,CACnD,QAAU,EACV,SAAW,IAFf,WAAOgE,EAAP,KAAwBC,EAAxB,KAKA,SAASC,EAAmBC,GAIxB,OAHA,WACIF,EAAmB,EAAD,KAAMD,GAAN,UAAwBG,GAASH,EAAgBG,OAEhDzB,KAAKQ,MAGhC,IAAMkB,EAAYlB,KAAK/B,MAAMkD,gBAAkBnB,KAAK/B,MAAM2C,kBACpDQ,EAAc,SAACH,GAAD,OAAW,cAAClF,EAAA,EAAD,CAAMD,MAAO,CAACxD,EAAO6C,gBAAiB,CAACxB,MAAc,WAAPsH,EAAmB,MAAQ,UAAzE,SAAsFA,KACrH,OAAIjB,KAAK/B,MAAMoC,iBAAmBpC,EAAMsC,QAEhC,cAAC1E,EAAA,EAAD,CAAMC,MAAOxD,EAAO2C,gBAApB,SAnBa,CAAC,SAAU,WAoBLyC,KAAK,SAACuD,GAAD,OAChB,cAAChC,EAAA,EAAD,CAEAnD,MAAO,CAACxD,EAAO4C,WAAa,CAAClC,gBAAiB8H,EAAgBG,GAAiB,WAAPA,EAAmB,QAAU,QAAW,QAASzH,YAAoB,WAAPyH,EAAmB,MAAQ,UACjKI,SAAWH,EACX/D,QAAS,WAAO6D,EAAmBC,EAAnBD,GAA6BH,EAAcI,MAC3DK,UAAWN,EAAmBC,GAL9B,SAOa,WAAPA,GACE,EAAKhD,MAAMkD,gBAAkB,cAACI,EAAA,EAAD,CAAmB5H,MAAM,QAEtDyH,EAAYH,IAVpB,QACaA,EADb,IACsBhD,EAAMsC,cAgBjC,O,2BAIf,WAAiB,IAAD,OACNiB,EAAgBxB,KAAK/B,MAAMS,KAAK+B,QAAQC,QAAQ,SAAC9E,GAAD,OAAWA,EAAM0E,KAAO,EAAKrC,MAAMoC,mBAAkB,GACrG5B,EAAiB,CACnBC,KAAMsB,KAAK/B,MAAMS,KACjBC,aAAc,CACVC,KAAM,OACNT,KAAMqD,EAAcrD,KACpBvC,MAAO4F,GAEX3C,aAAcmB,KAAK/B,MAAMY,aACzBC,mBAAoBkB,KAAK/B,MAAMa,mBAC/BC,mBAAoBiB,KAAK/B,MAAMc,oBAGnCiB,KAAK/B,MAAMiB,WAAWC,SAAS,eAAgBV,K,6BAGnD,4BAAAgD,EAAAC,OAAA,uDAEI9B,QAAQC,IAAI,wCACZG,KAAK/B,MAAM0D,yBAAwB,GAHvC,SAOYC,EAAc,CAACC,IAAI,EAAO3B,OAAQ,KAP9C,WAAAuB,EAAA,MAQ4BK,MAAOxG,qDAAoC0E,KAAK/B,MAAMS,KAAKqD,SAAW,YAAc/B,KAAK/B,MAAMoC,gBAAiB,CAAE2B,OAAQ,YARtJ,UAQQJ,EARR,OAUcK,EAAe,UAAYL,EAAY1B,OAAS,KAAO0B,EAAYM,YAErEN,EAAYC,GAZxB,iBAcYjC,QAAQC,IAAI,mDACZD,QAAQC,IAAIoC,GACZrC,QAAQC,IAAI,yCAhBxB,8BAmBYD,QAAQC,IAAK,IAAIsC,MAAM,oEACjB,IAAIA,MAAMF,GApB5B,0DAwBYrC,QAAQC,IAAI,+DACZD,QAAQC,IAAR,MACAG,KAAK/B,MAAMmE,YAAY,8DA1BnC,yBA6BQpC,KAAK/B,MAAM0D,yBAAwB,GACnC3B,KAAK/B,MAAMmC,mBAAmB,MAC9BR,QAAQC,IAA6D,sCACjE+B,EAAYC,IAAK7B,KAAK/B,MAAMY,eAhCxC,sF,oBAoCA,WAEI,OADAe,QAAQC,IAAI,iDACLG,KAAKqC,yB,GAjKwBC,aCyY7BC,EApiBG,CACd,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,c,+aCrhBJ,IAAMjH,EAAyB,OAAfC,SAASC,GAAc,+CAAiD,GAIlFE,EAAY,CAAC,IAAO,KAAM,IAAO,KAAM,IAAO,KAAM,IAAO,KAAM,IAAO,KAAM,IAAO,KAAM,IAAO,KAAM,IAAO,KAAM,IAAO,KAAM,IAAO,KAAM,IAAO,KAAM,IAAO,MACnK8G,EAAmB,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACjGC,GAAsB,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACpGC,GAAoB,CAAC,IAAO,MAAO,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","file":"static/js/app.c1375739.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/wallpaper.9987c866.jpg\";","import { StatusBar } from 'expo-status-bar';\r\n\r\n//import StatusBar from 'react-native'\r\n// import { Platform } from 'react-native';\r\n\r\n// import { Dimensions } from 'react-native';\r\n// var windowWidth = Dimensions.get('window').width;\r\n// var windowHeight = Dimensions.get('window').height;\r\n\r\n// import DeviceInfo from 'react-native-device-info';\r\n// import AsyncStorage from '@react-native-community/async-storage';\r\n\r\n// // how can i do some code that will gives me if its \"Handset\"=> Smartphone , \r\n// //if its \"unknown\"=> Laptop/Computer \r\n// //and it will be saved as well in my async-storage.\r\n\r\n// //this some example that i wanna get it works well coz now its not work good\r\n\r\n// const funct1=  (type) => {\r\n// let type = DeviceInfo.getDeviceType();\r\n\r\n// if type==='Handset'{\r\n//   AsyncStorage.setItem('PLATFORM-TYPE', 'Smartphone');\r\n// }\r\n// if type==='unknown'{\r\n//   AsyncStorage.setItem('PLATFORM-TYPE', 'Laptop/Computer');\r\n// }\r\n// };\r\n\r\nconst styles = {\r\n    mainView: {\r\n        flex: 1,                 \r\n        // marginTop: StatusBar.currentHeight,\r\n    },\r\n    postButton: {\r\n        position: 'absolute',\r\n        height: 60,\r\n        width: 60,\r\n        borderRadius: 30,\r\n        bottom: '2%',\r\n        alignSelf: 'center',\r\n        backgroundColor: 'rgba(0,0,0,1)',\r\n        justifyContent: 'center',  \r\n    },\r\n    postButtonLabel: {\r\n        alignSelf: 'center',\r\n    },\r\n    scrollView: {\r\n        // paddingHorizontal: Platform.OS != 'web' ? '5%' : '5%',\r\n        flex: 1,\r\n        // height: '100%',\r\n        // width: '100%',\r\n        borderWidth: 1\r\n        // alignSelf: 'center',\r\n    },\r\n    section: {\r\n        width: 350,\r\n        paddingVertical: '16%',\r\n        borderBottomWidth: 1,\r\n        borderColor: 'rgba(155,155,155,0.3)',\r\n        alignSelf: 'center',\r\n    },\r\n    sectionTitle: {\r\n        paddingVertical: 7.5,\r\n        fontSize: 18,\r\n        color: 'white',\r\n        fontWeight: '400',\r\n    },\r\n    card: {\r\n        marginTop: '5%',\r\n        paddingVertical: 5,\r\n        paddingHorizontal: 10,\r\n        borderRadius: 20,\r\n        backgroundColor: 'rgba(0,0,0,0.2)',\r\n    },\r\n    cardRow: {\r\n        flexDirection: 'row',\r\n        paddingVertical: 5,\r\n        alignItems: 'center',\r\n    },\r\n    moodBadge: {\r\n        // fontFamily: 'sans-serif',\r\n        backgroundColor: 'green',\r\n        borderRadius: 30,\r\n        paddingVertical: 6,\r\n        width: 130,\r\n        fontSize: 15,\r\n        textAlign: 'center',\r\n    },\r\n    emotionBadge: {\r\n        // fontFamily: 'sans-serif',\r\n        backgroundColor: 'aliceblue',\r\n        borderRadius: 18,\r\n        paddingVertical: 6,\r\n        paddingHorizontal: 12.5,\r\n        marginRight: 6,\r\n        fontSize: 14,\r\n        textAlign: 'center',\r\n    },\r\n    textBadge: {\r\n        backgroundColor: 'aliceblue',\r\n        borderRadius: 17,\r\n        paddingTop: 5,\r\n        paddingBottom: 8,\r\n        paddingHorizontal: 11,\r\n        width: '100%',\r\n        fontSize: 15,\r\n        lineHeight: 22,\r\n        textAlign: 'left',\r\n        textAlignVertical: 'top',\r\n},\r\n    text: {\r\n        // fontFamily: 'sans-serif',\r\n        fontSize: 14,\r\n        color: 'white'\r\n    },\r\n    spaceBetween: {\r\n        justifyContent: 'space-between',\r\n    },\r\n    icon: {\r\n        paddingHorizontal: 12,\r\n    },\r\n    entryIcon: {\r\n        paddingRight: 0,\r\n        borderWidth: 1,\r\n    },\r\n    editButtonsView: {\r\n        flexDirection: 'row',\r\n        height: 50,\r\n        paddingBottom: 5,\r\n        alignItems: 'flex-end',\r\n        justifyContent: 'space-between'\r\n    },\r\n    editButton: {\r\n        height: 34,\r\n        width: 102,\r\n        borderWidth: 1,\r\n        borderColor: 'aliceblue',\r\n        borderRadius: 17,\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    },\r\n    editButtonLabel: {\r\n        fontSize: 15,\r\n        fontWeight: '400',\r\n        color: 'white',\r\n    },\r\n    msgBox: {\r\n        position: 'absolute',\r\n        alignSelf: 'center',\r\n        bottom: 110,\r\n        width: 300,\r\n        height: 36,\r\n        justifyContent: 'center',\r\n        backgroundColor: 'rgb(30,30,30)',\r\n        borderWidth: 1,\r\n        borderColor: 'rgb(40,40,40)',\r\n        \r\n    },\r\n    msg: {\r\n        textAlign: 'center',\r\n        color: 'white',\r\n        // paddingHorizontal: 20,\r\n    },\r\n};\r\n\r\nexport default styles;","// Module import\r\nimport React, { Component, useState } from 'react';\r\nimport { Platform, View, Text, Pressable, Image, ActivityIndicator } from 'react-native';\r\nimport { Icon } from 'react-native-eva-icons'\r\n\r\n// Local import\r\nimport styles from '../../styles/entrancesStyles'\r\n\r\n// cors-midpoint uri (needed to avoid cors' allow-cross-origin error when fetching in web platforms)\r\nconst corsURI = Platform.OS == 'web' ? 'https://morning-journey-78874.herokuapp.com/' : ''\r\nconst appServerURI = 'https://mood-tracker-server.herokuapp.com/'\r\n\r\n// OpenWeatherMap API weather icons URI:\r\nfunction openWeatherMapIconsURI (icon) {\r\n    if (Platform.OS === 'android') {\r\n        return `http://openweathermap.org/img/wn/${icon}@2x.png`\r\n\r\n    } else if (Platform.OS === 'web') {\r\n        return `https://openweathermap.org/img/wn/${icon}@2x.png`\r\n    }\r\n}\r\n\r\n// Defining mood colors schema\r\n// const moodColors = ['#ff3333', '#0099cc', '#add8e6', '#ffff33', '#00cc00']\r\nconst moodColors = {'Horrvel': '#ff3333', 'Mal': '#0099cc', 'Regular': '#add8e6', 'Bem': '#ffff33', 'timo': '#00cc00'};\r\n\r\nconst monthDict = {'Jan': '01', 'Feb': '02', 'Mar': '03', 'Apr': '04', 'May': '05', 'Jun': '06', 'Jul': '07', 'Ago': '08', 'Sep': '09', 'Oct': '10', 'Nov': '11', 'Dec': '12'}\r\nfunction Today() {\r\n    const now = Date().toString().split(' ')\r\n    const today = [ now[3], monthDict[now[1]], now[2] ].join('-')\r\n    return today\r\n}\r\n\r\nfunction MoodHeader({entry}) {\r\n    return(\r\n        <View style={ [styles.cardRow, styles.spaceBetween] }>\r\n            <View style={ [{flexDirection: 'row', alignItems: 'center'} ] }>\r\n                <Text style={[styles.moodBadge, {backgroundColor: moodColors[entry.mood]}]}>{entry.mood}</Text>\r\n                    { entry.star ? (\r\n                    <View style={{height: 30, width: 42, alignItems: 'flex-end', justifyContent: 'center'}}>\r\n                        <Icon name='star' fill='gold' width={28} height={28} style={{}} />\r\n                    </View>\r\n                    ) : <></> }                    \r\n                    { entry.weather ? (\r\n                        <View style={{height: 30, width: 50, alignItems: 'flex-end', justifyContent: 'center'}}>\r\n                            <Image source={{uri: openWeatherMapIconsURI(entry.weather.weather.icon)}} style={{width: 40, height: 40}} />\r\n                        </View>\r\n                    ) : <></> }                    \r\n                    { entry.weather ? (\r\n                        <View style={{height: 30, width: 40, alignItems: 'flex-end', justifyContent: 'center'}}>\r\n                            <Text style={{fontSize: 14, fontWeight: '500', color:'#fffd'}}> { entry.weather.main.temp.toString().slice(0,2) + 'C' } </Text>\r\n                        </View>\r\n                    ) : <></> }                \r\n                \r\n            </View>\r\n            <View style={[styles.cardRow]}>\r\n                <Icon name='edit' height={18} width={18} fill='rgba(255,255,255,0.75)' style={{marginRight: 6}} />\r\n                <Text style={styles.text}>{entry.startTime.slice(0,5)}</Text>\r\n            </View>\r\n        </View>\r\n\r\n    )\r\n}\r\n\r\nfunction Address ({entry}) {\r\n\r\n    const [isCollapsed, setIsCollapsed] = useState( 1 );\r\n    if (entry.address) {\r\n        return(\r\n            <View style={styles.cardRow}>\r\n                <Text numberOfLines={ isCollapsed } onPress={ () => { setIsCollapsed( isCollapsed ? 0 : 1 ) }} style={styles.text}>\r\n                    <Icon name='pin' height={17} width={17} fill='rgba(255,255,255,0.75)' style={{position: 'relative', marginRight: 5, top: 2}} />\r\n                    {entry.address}\r\n                </Text>\r\n            </View>        \r\n        )\r\n    } else {\r\n        return <></>\r\n    }\r\n}\r\n\r\nfunction Emotions ({entry}) {\r\n    if (entry.emotions.length>0) {\r\n        return (\r\n            <View style={[styles.cardRow, {flexWrap: 'wrap', justifyContent: 'flex-start', paddingTop: 2, PaddingBottom: 0}]}>\r\n                { entry.emotions.map((emotion, index) => {\r\n                    if (emotion.name) {\r\n                        emotion = emotion.name\r\n                    }\r\n                    return(\r\n                        <View key={'emotion-' + emotion} style={{paddingVertical: 5, paddingHorizontal: 2}}>\r\n                            <Text style={[styles.emotionBadge]}>{emotion}</Text>\r\n                        </View>\r\n                    )\r\n                })}\r\n            </View>\r\n        )\r\n    } else {\r\n        return (\r\n            <></>\r\n        )\r\n    }\r\n}\r\n\r\nfunction Jornal({ entry }) {\r\n    if (entry.jornal) {\r\n        return(\r\n            <View style={styles.cardRow}>\r\n                <Text style={styles.textBadge}>\r\n                    <Icon name='book-open' height={20} width={20} fill='rgba(0,0,0,0.25)' style={{position: 'relative', top: 4, left: 1, marginRight: 6}} />\r\n                    {entry.jornal}\r\n                </Text>\r\n            </View>\r\n        )\r\n    } else {\r\n        return <></>\r\n    }\r\n}\r\n\r\nfunction EmptyCard(props) {\r\n    const today = props.date == Today()\r\n    const navigateParams = {\r\n        user: props.user,\r\n        currentEntry: {\r\n            type: today ? 'new' : 'custom-date',\r\n            date: props.date,\r\n            entry: null\r\n        },\r\n        syncUserData: props.syncUserData,\r\n        setMainScreenState: props.setMainScreenState,\r\n        getMainScreenState: props.getMainScreenState,\r\n\r\n    }\r\n    const textStyle = {fontSize: 16, color: 'white', marginTop: 7}\r\n    return (\r\n        <Pressable\r\n        onPress={ () => props.navigation.navigate('PostEntrance', navigateParams) }\r\n        style={[styles.card, {alignItems: 'center', justifyContent: 'center', fontSize: 16, height: 145}]}\r\n        >\r\n            <Icon name='inbox' fill='rgba(255,255,255,0.3)' width={25} height={25} />\r\n            <Text style={textStyle}> Nenhuma entrada encontrada. </Text>\r\n            <Text style={textStyle}> Pressione aqui para adicionar uma a este dia! </Text>\r\n        </Pressable>\r\n    );\r\n}\r\n\r\nfunction CardsLoadingMessage() {\r\n    return(\r\n        <View style={[styles.card, {alignItems: 'center', justifyContent: 'center', height: 85}]}>\r\n            <Icon name='sync-outline' fill='rgba(255,255,255,1)' width={25} height={25} />\r\n            <Text style={{marginTop: 10, fontSize: 16, color: 'white'}}>Sincronizando entradas...</Text>\r\n        </View>\r\n    )\r\n}\r\n\r\nexport default class UserEntryCards extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n        \r\n        this.EntryCard = this.EntryCard.bind(this);\r\n        this.EditEntryButtons = this.EditEntryButtons.bind(this);\r\n        this.editUserEntry = this.editUserEntry.bind(this);\r\n        this.deleteUserEntry = this.deleteUserEntry.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log('Subcomponent \"UserEntryCards\" did mount...')\r\n        setInterval( () => { this.updateIfPosted() }, 1000 * 3 )\r\n        // setInterval( () => { console.log('Default auto syncing started...'); this.syncUserData() }, 1000 * 10 )\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        console.log('\"UserEntryCards\" sub-component will unmount...')\r\n      }\r\n    \r\n    updateIfPosted () {\r\n        if (this.props.posted.status) {\r\n            console.log('JUST POSTED STATUS: POSTED. Redirecting date and syncing entries ...');\r\n            this.props.forgetPosted();\r\n            this.props.syncUserData();\r\n            }\r\n    }\r\n\r\n    EntryCard({ entry }) {\r\n        function onEntryCardPress() {\r\n            this.props.setSelectedEntryId(this.props.selectedEntryId === entry._id ? null : entry._id)\r\n        }\r\n        return (\r\n        <Pressable onPress={onEntryCardPress.bind(this)} style={styles.card}>\r\n            <MoodHeader entry={entry} />\r\n            <Emotions entry={entry} />\r\n            <Address entry={entry} />\r\n            <Jornal entry={entry} />\r\n            <this.EditEntryButtons entryId={entry._id} />\r\n        </Pressable>\r\n        );\r\n    }    \r\n\r\n    UserEntryCardsList() {\r\n        const selDateEntries = this.props.user.entries.filter( (entry) => entry.date === this.props.date ).reverse()\r\n        if (selDateEntries.length) {\r\n            return(\r\n                <>\r\n                    { selDateEntries.map( entry => <this.EntryCard key={'entry-card-'+entry.startTime} entry={entry} />) }\r\n                    {/* { this.props.isUserDataSyncing ? <CardsLoadingMessage /> : null }         */}\r\n                </>\r\n            )\r\n       \r\n        } else if (this.props.isUserDataSyncing ) {\r\n            return <CardsLoadingMessage />\r\n            \r\n        } else {\r\n            return <EmptyCard {...this.props} />\r\n        }\r\n    }\r\n\r\n    EditEntryButtons(props) {\r\n        const buttonLabels = ['Editar', 'Excluir']\r\n        const onButtonPress = { 'Editar': this.editUserEntry, 'Excluir': this.deleteUserEntry }\r\n\r\n        const [isButtonPressed, setIsButtonPressed] = useState({\r\n            'Editar': false,\r\n            'Excluir': false,\r\n        })\r\n\r\n        function highlightButtonFor(label) {\r\n            function highlightButton() {\r\n                setIsButtonPressed({ ...isButtonPressed, [label]: !isButtonPressed[label] })\r\n            }\r\n            return highlightButton.bind(this);\r\n        }\r\n\r\n        const isLoading = this.props.isDeleteLoading | this.props.isUserDataSyncing\r\n        const buttonLabel = (label) => <Text style={[styles.editButtonLabel, {color: label=='Excluir' ? 'red' : 'white' }]}>{label}</Text>\r\n        if (this.props.selectedEntryId == props.entryId) {\r\n            return(\r\n                <View style={styles.editButtonsView}>\r\n                    { buttonLabels.map( (label) => (\r\n                        <Pressable\r\n                        key={`edit-${label}-${props.entryId}`}\r\n                        style={[styles.editButton,  {backgroundColor: isButtonPressed[label] ? (label=='Excluir' ? '#0008' : '#fff5') : '#0000', borderColor: label=='Excluir' ? 'red' : 'white' }]}\r\n                        disabled={ isLoading }\r\n                        onPress={() => {highlightButtonFor(label)(); onButtonPress[label]() }}\r\n                        onPressIn={highlightButtonFor(label)}\r\n                        >\r\n                            { label=='Excluir' ? (\r\n                                this.props.isDeleteLoading ? <ActivityIndicator color='red' /> : buttonLabel(label)\r\n                                \r\n                            ) : buttonLabel(label) }\r\n                                                \r\n                        </Pressable>\r\n                    )) }\r\n            </View>\r\n            )\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n\r\n    editUserEntry() {\r\n        const selectedEntry = this.props.user.entries.filter( (entry) => entry._id == this.props.selectedEntryId )[0]\r\n        const navigateParams = {\r\n            user: this.props.user,\r\n            currentEntry: {\r\n                type: 'edit',\r\n                date: selectedEntry.date,\r\n                entry: selectedEntry\r\n            },\r\n            syncUserData: this.props.syncUserData,\r\n            setMainScreenState: this.props.setMainScreenState,\r\n            getMainScreenState: this.props.getMainScreenState,\r\n    \r\n        }\r\n        this.props.navigation.navigate('PostEntrance', navigateParams)\r\n    }\r\n\r\n    async deleteUserEntry() {\r\n\r\n        console.log('DELETE USER ENTRY STATUS: Started...')\r\n        this.props.setIsDeleteEntryLoading(true);\r\n        // prompt()\r\n\r\n        try {\r\n            var UsersResult = {ok: false, status: 999}\r\n            UsersResult = await fetch( corsURI + appServerURI + 'Users/' + this.props.user.username + '/entries/' + this.props.selectedEntryId, { method: 'DELETE' });\r\n            // var UsersResult = await fetch( 'https://localhost:3000/' + 'Users/' + this.props.user.username + '/entries/' + this.props.selectedEntryId, { method: 'DELETE' });\r\n            const usersStatus =  'Status ' + UsersResult.status + ', ' + UsersResult.statusText\r\n\r\n            if (UsersResult.ok) {\r\n                // const users = await UsersResult.json();\r\n                console.log('fetch DELETE request for user entry successful.')\r\n                console.log(usersStatus)\r\n                console.log('DELETE USER ENTRY STATUS: Successful.')\r\n\r\n            } else {\r\n                console.log( new Error('\"fetch\" DELETE request for user entry failed. Throwing error...') )\r\n                throw new Error(usersStatus)\r\n            }\r\n    \r\n        } catch (error) {\r\n                console.log('DELETE USER ENTRY STATUS: Error captured. Printing error...')\r\n                console.log(error);\r\n                this.props.setAlertMsg('No foi possvel deletar a entrada. Tente novamente.')\r\n\r\n        } finally {\r\n            this.props.setIsDeleteEntryLoading(false);\r\n            this.props.setSelectedEntryId(null)\r\n            console.log('DELETE USER ENTRY STATUS: FINISHED.' + UsersResult.ok ? 'Proceeding to sync user entries...' : 'Delete failed, skipping sync of user entries...')\r\n            if (UsersResult.ok) {this.props.syncUserData()}\r\n        }    \r\n    }\r\n\r\n    render() {\r\n        console.log('\"Rendering \"UserEntryCards\" sub-component...\"')\r\n        return this.UserEntryCardsList()\r\n    }\r\n}","const dateRange = [\r\n    \"2021-01-01\",\r\n    \"2021-01-02\",\r\n    \"2021-01-03\",\r\n    \"2021-01-04\",\r\n    \"2021-01-05\",\r\n    \"2021-01-06\",\r\n    \"2021-01-07\",\r\n    \"2021-01-08\",\r\n    \"2021-01-09\",\r\n    \"2021-01-10\",\r\n    \"2021-01-11\",\r\n    \"2021-01-12\",\r\n    \"2021-01-13\",\r\n    \"2021-01-14\",\r\n    \"2021-01-15\",\r\n    \"2021-01-16\",\r\n    \"2021-01-17\",\r\n    \"2021-01-18\",\r\n    \"2021-01-19\",\r\n    \"2021-01-20\",\r\n    \"2021-01-21\",\r\n    \"2021-01-22\",\r\n    \"2021-01-23\",\r\n    \"2021-01-24\",\r\n    \"2021-01-25\",\r\n    \"2021-01-26\",\r\n    \"2021-01-27\",\r\n    \"2021-01-28\",\r\n    \"2021-01-29\",\r\n    \"2021-01-30\",\r\n    \"2021-01-31\",\r\n    \"2021-02-01\",\r\n    \"2021-02-02\",\r\n    \"2021-02-03\",\r\n    \"2021-02-04\",\r\n    \"2021-02-05\",\r\n    \"2021-02-06\",\r\n    \"2021-02-07\",\r\n    \"2021-02-08\",\r\n    \"2021-02-09\",\r\n    \"2021-02-10\",\r\n    \"2021-02-11\",\r\n    \"2021-02-12\",\r\n    \"2021-02-13\",\r\n    \"2021-02-14\",\r\n    \"2021-02-15\",\r\n    \"2021-02-16\",\r\n    \"2021-02-17\",\r\n    \"2021-02-18\",\r\n    \"2021-02-19\",\r\n    \"2021-02-20\",\r\n    \"2021-02-21\",\r\n    \"2021-02-22\",\r\n    \"2021-02-23\",\r\n    \"2021-02-24\",\r\n    \"2021-02-25\",\r\n    \"2021-02-26\",\r\n    \"2021-02-27\",\r\n    \"2021-02-28\",\r\n    \"2021-03-01\",\r\n    \"2021-03-02\",\r\n    \"2021-03-03\",\r\n    \"2021-03-04\",\r\n    \"2021-03-05\",\r\n    \"2021-03-06\",\r\n    \"2021-03-07\",\r\n    \"2021-03-08\",\r\n    \"2021-03-09\",\r\n    \"2021-03-10\",\r\n    \"2021-03-11\",\r\n    \"2021-03-12\",\r\n    \"2021-03-13\",\r\n    \"2021-03-14\",\r\n    \"2021-03-15\",\r\n    \"2021-03-16\",\r\n    \"2021-03-17\",\r\n    \"2021-03-18\",\r\n    \"2021-03-19\",\r\n    \"2021-03-20\",\r\n    \"2021-03-21\",\r\n    \"2021-03-22\",\r\n    \"2021-03-23\",\r\n    \"2021-03-24\",\r\n    \"2021-03-25\",\r\n    \"2021-03-26\",\r\n    \"2021-03-27\",\r\n    \"2021-03-28\",\r\n    \"2021-03-29\",\r\n    \"2021-03-30\",\r\n    \"2021-03-31\",\r\n    \"2021-04-01\",\r\n    \"2021-04-02\",\r\n    \"2021-04-03\",\r\n    \"2021-04-04\",\r\n    \"2021-04-05\",\r\n    \"2021-04-06\",\r\n    \"2021-04-07\",\r\n    \"2021-04-08\",\r\n    \"2021-04-09\",\r\n    \"2021-04-10\",\r\n    \"2021-04-11\",\r\n    \"2021-04-12\",\r\n    \"2021-04-13\",\r\n    \"2021-04-14\",\r\n    \"2021-04-15\",\r\n    \"2021-04-16\",\r\n    \"2021-04-17\",\r\n    \"2021-04-18\",\r\n    \"2021-04-19\",\r\n    \"2021-04-20\",\r\n    \"2021-04-21\",\r\n    \"2021-04-22\",\r\n    \"2021-04-23\",\r\n    \"2021-04-24\",\r\n    \"2021-04-25\",\r\n    \"2021-04-26\",\r\n    \"2021-04-27\",\r\n    \"2021-04-28\",\r\n    \"2021-04-29\",\r\n    \"2021-04-30\",\r\n    \"2021-05-01\",\r\n    \"2021-05-02\",\r\n    \"2021-05-03\",\r\n    \"2021-05-04\",\r\n    \"2021-05-05\",\r\n    \"2021-05-06\",\r\n    \"2021-05-07\",\r\n    \"2021-05-08\",\r\n    \"2021-05-09\",\r\n    \"2021-05-10\",\r\n    \"2021-05-11\",\r\n    \"2021-05-12\",\r\n    \"2021-05-13\",\r\n    \"2021-05-14\",\r\n    \"2021-05-15\",\r\n    \"2021-05-16\",\r\n    \"2021-05-17\",\r\n    \"2021-05-18\",\r\n    \"2021-05-19\",\r\n    \"2021-05-20\",\r\n    \"2021-05-21\",\r\n    \"2021-05-22\",\r\n    \"2021-05-23\",\r\n    \"2021-05-24\",\r\n    \"2021-05-25\",\r\n    \"2021-05-26\",\r\n    \"2021-05-27\",\r\n    \"2021-05-28\",\r\n    \"2021-05-29\",\r\n    \"2021-05-30\",\r\n    \"2021-05-31\",\r\n    \"2021-06-01\",\r\n    \"2021-06-02\",\r\n    \"2021-06-03\",\r\n    \"2021-06-04\",\r\n    \"2021-06-05\",\r\n    \"2021-06-06\",\r\n    \"2021-06-07\",\r\n    \"2021-06-08\",\r\n    \"2021-06-09\",\r\n    \"2021-06-10\",\r\n    \"2021-06-11\",\r\n    \"2021-06-12\",\r\n    \"2021-06-13\",\r\n    \"2021-06-14\",\r\n    \"2021-06-15\",\r\n    \"2021-06-16\",\r\n    \"2021-06-17\",\r\n    \"2021-06-18\",\r\n    \"2021-06-19\",\r\n    \"2021-06-20\",\r\n    \"2021-06-21\",\r\n    \"2021-06-22\",\r\n    \"2021-06-23\",\r\n    \"2021-06-24\",\r\n    \"2021-06-25\",\r\n    \"2021-06-26\",\r\n    \"2021-06-27\",\r\n    \"2021-06-28\",\r\n    \"2021-06-29\",\r\n    \"2021-06-30\",\r\n    \"2021-07-01\",\r\n    \"2021-07-02\",\r\n    \"2021-07-03\",\r\n    \"2021-07-04\",\r\n    \"2021-07-05\",\r\n    \"2021-07-06\",\r\n    \"2021-07-07\",\r\n    \"2021-07-08\",\r\n    \"2021-07-09\",\r\n    \"2021-07-10\",\r\n    \"2021-07-11\",\r\n    \"2021-07-12\",\r\n    \"2021-07-13\",\r\n    \"2021-07-14\",\r\n    \"2021-07-15\",\r\n    \"2021-07-16\",\r\n    \"2021-07-17\",\r\n    \"2021-07-18\",\r\n    \"2021-07-19\",\r\n    \"2021-07-20\",\r\n    \"2021-07-21\",\r\n    \"2021-07-22\",\r\n    \"2021-07-23\",\r\n    \"2021-07-24\",\r\n    \"2021-07-25\",\r\n    \"2021-07-26\",\r\n    \"2021-07-27\",\r\n    \"2021-07-28\",\r\n    \"2021-07-29\",\r\n    \"2021-07-30\",\r\n    \"2021-07-31\",\r\n    \"2021-08-01\",\r\n    \"2021-08-02\",\r\n    \"2021-08-03\",\r\n    \"2021-08-04\",\r\n    \"2021-08-05\",\r\n    \"2021-08-06\",\r\n    \"2021-08-07\",\r\n    \"2021-08-08\",\r\n    \"2021-08-09\",\r\n    \"2021-08-10\",\r\n    \"2021-08-11\",\r\n    \"2021-08-12\",\r\n    \"2021-08-13\",\r\n    \"2021-08-14\",\r\n    \"2021-08-15\",\r\n    \"2021-08-16\",\r\n    \"2021-08-17\",\r\n    \"2021-08-18\",\r\n    \"2021-08-19\",\r\n    \"2021-08-20\",\r\n    \"2021-08-21\",\r\n    \"2021-08-22\",\r\n    \"2021-08-23\",\r\n    \"2021-08-24\",\r\n    \"2021-08-25\",\r\n    \"2021-08-26\",\r\n    \"2021-08-27\",\r\n    \"2021-08-28\",\r\n    \"2021-08-29\",\r\n    \"2021-08-30\",\r\n    \"2021-08-31\",\r\n    \"2021-09-01\",\r\n    \"2021-09-02\",\r\n    \"2021-09-03\",\r\n    \"2021-09-04\",\r\n    \"2021-09-05\",\r\n    \"2021-09-06\",\r\n    \"2021-09-07\",\r\n    \"2021-09-08\",\r\n    \"2021-09-09\",\r\n    \"2021-09-10\",\r\n    \"2021-09-11\",\r\n    \"2021-09-12\",\r\n    \"2021-09-13\",\r\n    \"2021-09-14\",\r\n    \"2021-09-15\",\r\n    \"2021-09-16\",\r\n    \"2021-09-17\",\r\n    \"2021-09-18\",\r\n    \"2021-09-19\",\r\n    \"2021-09-20\",\r\n    \"2021-09-21\",\r\n    \"2021-09-22\",\r\n    \"2021-09-23\",\r\n    \"2021-09-24\",\r\n    \"2021-09-25\",\r\n    \"2021-09-26\",\r\n    \"2021-09-27\",\r\n    \"2021-09-28\",\r\n    \"2021-09-29\",\r\n    \"2021-09-30\",\r\n    \"2021-10-01\",\r\n    \"2021-10-02\",\r\n    \"2021-10-03\",\r\n    \"2021-10-04\",\r\n    \"2021-10-05\",\r\n    \"2021-10-06\",\r\n    \"2021-10-07\",\r\n    \"2021-10-08\",\r\n    \"2021-10-09\",\r\n    \"2021-10-10\",\r\n    \"2021-10-11\",\r\n    \"2021-10-12\",\r\n    \"2021-10-13\",\r\n    \"2021-10-14\",\r\n    \"2021-10-15\",\r\n    \"2021-10-16\",\r\n    \"2021-10-17\",\r\n    \"2021-10-18\",\r\n    \"2021-10-19\",\r\n    \"2021-10-20\",\r\n    \"2021-10-21\",\r\n    \"2021-10-22\",\r\n    \"2021-10-23\",\r\n    \"2021-10-24\",\r\n    \"2021-10-25\",\r\n    \"2021-10-26\",\r\n    \"2021-10-27\",\r\n    \"2021-10-28\",\r\n    \"2021-10-29\",\r\n    \"2021-10-30\",\r\n    \"2021-10-31\",\r\n    \"2021-11-01\",\r\n    \"2021-11-02\",\r\n    \"2021-11-03\",\r\n    \"2021-11-04\",\r\n    \"2021-11-05\",\r\n    \"2021-11-06\",\r\n    \"2021-11-07\",\r\n    \"2021-11-08\",\r\n    \"2021-11-09\",\r\n    \"2021-11-10\",\r\n    \"2021-11-11\",\r\n    \"2021-11-12\",\r\n    \"2021-11-13\",\r\n    \"2021-11-14\",\r\n    \"2021-11-15\",\r\n    \"2021-11-16\",\r\n    \"2021-11-17\",\r\n    \"2021-11-18\",\r\n    \"2021-11-19\",\r\n    \"2021-11-20\",\r\n    \"2021-11-21\",\r\n    \"2021-11-22\",\r\n    \"2021-11-23\",\r\n    \"2021-11-24\",\r\n    \"2021-11-25\",\r\n    \"2021-11-26\",\r\n    \"2021-11-27\",\r\n    \"2021-11-28\",\r\n    \"2021-11-29\",\r\n    \"2021-11-30\",\r\n    \"2021-12-01\",\r\n    \"2021-12-02\",\r\n    \"2021-12-03\",\r\n    \"2021-12-04\",\r\n    \"2021-12-05\",\r\n    \"2021-12-06\",\r\n    \"2021-12-07\",\r\n    \"2021-12-08\",\r\n    \"2021-12-09\",\r\n    \"2021-12-10\",\r\n    \"2021-12-11\",\r\n    \"2021-12-12\",\r\n    \"2021-12-13\",\r\n    \"2021-12-14\",\r\n    \"2021-12-15\",\r\n    \"2021-12-16\",\r\n    \"2021-12-17\",\r\n    \"2021-12-18\",\r\n    \"2021-12-19\",\r\n    \"2021-12-20\",\r\n    \"2021-12-21\",\r\n    \"2021-12-22\",\r\n    \"2021-12-23\",\r\n    \"2021-12-24\",\r\n    \"2021-12-25\",\r\n    \"2021-12-26\",\r\n    \"2021-12-27\",\r\n    \"2021-12-28\",\r\n    \"2021-12-29\",\r\n    \"2021-12-30\",\r\n    \"2021-12-31\",\r\n    \"2022-01-01\",\r\n    \"2022-01-02\",\r\n    \"2022-01-03\",\r\n    \"2022-01-04\",\r\n    \"2022-01-05\",\r\n    \"2022-01-06\",\r\n    \"2022-01-07\",\r\n    \"2022-01-08\",\r\n    \"2022-01-09\",\r\n    \"2022-01-10\",\r\n    \"2022-01-11\",\r\n    \"2022-01-12\",\r\n    \"2022-01-13\",\r\n    \"2022-01-14\",\r\n    \"2022-01-15\",\r\n    \"2022-01-16\",\r\n    \"2022-01-17\",\r\n    \"2022-01-18\",\r\n    \"2022-01-19\",\r\n    \"2022-01-20\",\r\n    \"2022-01-21\",\r\n    \"2022-01-22\",\r\n    \"2022-01-23\",\r\n    \"2022-01-24\",\r\n    \"2022-01-25\",\r\n    \"2022-01-26\",\r\n    \"2022-01-27\",\r\n    \"2022-01-28\",\r\n    \"2022-01-29\",\r\n    \"2022-01-30\",\r\n    \"2022-01-31\",\r\n    \"2022-02-01\",\r\n    \"2022-02-02\",\r\n    \"2022-02-03\",\r\n    \"2022-02-04\",\r\n    \"2022-02-05\",\r\n    \"2022-02-06\",\r\n    \"2022-02-07\",\r\n    \"2022-02-08\",\r\n    \"2022-02-09\",\r\n    \"2022-02-10\",\r\n    \"2022-02-11\",\r\n    \"2022-02-12\",\r\n    \"2022-02-13\",\r\n    \"2022-02-14\",\r\n    \"2022-02-15\",\r\n    \"2022-02-16\",\r\n    \"2022-02-17\",\r\n    \"2022-02-18\",\r\n    \"2022-02-19\",\r\n    \"2022-02-20\",\r\n    \"2022-02-21\",\r\n    \"2022-02-22\",\r\n    \"2022-02-23\",\r\n    \"2022-02-24\",\r\n    \"2022-02-25\",\r\n    \"2022-02-26\",\r\n    \"2022-02-27\",\r\n    \"2022-02-28\",\r\n    \"2022-03-01\",\r\n    \"2022-03-02\",\r\n    \"2022-03-03\",\r\n    \"2022-03-04\",\r\n    \"2022-03-05\",\r\n    \"2022-03-06\",\r\n    \"2022-03-07\",\r\n    \"2022-03-08\",\r\n    \"2022-03-09\",\r\n    \"2022-03-10\",\r\n    \"2022-03-11\",\r\n    \"2022-03-12\",\r\n    \"2022-03-13\",\r\n    \"2022-03-14\",\r\n    \"2022-03-15\",\r\n    \"2022-03-16\",\r\n    \"2022-03-17\",\r\n    \"2022-03-18\",\r\n    \"2022-03-19\",\r\n    \"2022-03-20\",\r\n    \"2022-03-21\",\r\n    \"2022-03-22\",\r\n    \"2022-03-23\",\r\n    \"2022-03-24\",\r\n    \"2022-03-25\",\r\n    \"2022-03-26\",\r\n    \"2022-03-27\",\r\n    \"2022-03-28\",\r\n    \"2022-03-29\",\r\n    \"2022-03-30\",\r\n    \"2022-03-31\",\r\n    \"2022-04-01\",\r\n    \"2022-04-02\",\r\n    \"2022-04-03\",\r\n    \"2022-04-04\",\r\n    \"2022-04-05\",\r\n    \"2022-04-06\",\r\n    \"2022-04-07\",\r\n    \"2022-04-08\",\r\n    \"2022-04-09\",\r\n    \"2022-04-10\",\r\n    \"2022-04-11\",\r\n    \"2022-04-12\",\r\n    \"2022-04-13\",\r\n    \"2022-04-14\",\r\n    \"2022-04-15\",\r\n    \"2022-04-16\",\r\n    \"2022-04-17\",\r\n    \"2022-04-18\",\r\n    \"2022-04-19\",\r\n    \"2022-04-20\",\r\n    \"2022-04-21\",\r\n    \"2022-04-22\",\r\n    \"2022-04-23\",\r\n    \"2022-04-24\",\r\n    \"2022-04-25\",\r\n    \"2022-04-26\",\r\n    \"2022-04-27\",\r\n    \"2022-04-28\",\r\n    \"2022-04-29\",\r\n    \"2022-04-30\",\r\n    \"2022-05-01\",\r\n    \"2022-05-02\",\r\n    \"2022-05-03\",\r\n    \"2022-05-04\",\r\n    \"2022-05-05\",\r\n    \"2022-05-06\",\r\n    \"2022-05-07\",\r\n    \"2022-05-08\",\r\n    \"2022-05-09\",\r\n    \"2022-05-10\",\r\n    \"2022-05-11\",\r\n    \"2022-05-12\",\r\n    \"2022-05-13\",\r\n    \"2022-05-14\",\r\n    \"2022-05-15\",\r\n    \"2022-05-16\",\r\n    \"2022-05-17\",\r\n    \"2022-05-18\",\r\n    \"2022-05-19\",\r\n    \"2022-05-20\",\r\n    \"2022-05-21\",\r\n    \"2022-05-22\",\r\n    \"2022-05-23\",\r\n    \"2022-05-24\",\r\n    \"2022-05-25\",\r\n    \"2022-05-26\",\r\n    \"2022-05-27\",\r\n    \"2022-05-28\",\r\n    \"2022-05-29\",\r\n    \"2022-05-30\",\r\n    \"2022-05-31\",\r\n    \"2022-06-01\",\r\n    \"2022-06-02\",\r\n    \"2022-06-03\",\r\n    \"2022-06-04\",\r\n    \"2022-06-05\",\r\n    \"2022-06-06\",\r\n    \"2022-06-07\",\r\n    \"2022-06-08\",\r\n    \"2022-06-09\",\r\n    \"2022-06-10\",\r\n    \"2022-06-11\",\r\n    \"2022-06-12\",\r\n    \"2022-06-13\",\r\n    \"2022-06-14\",\r\n    \"2022-06-15\",\r\n    \"2022-06-16\",\r\n    \"2022-06-17\",\r\n    \"2022-06-18\",\r\n    \"2022-06-19\",\r\n    \"2022-06-20\",\r\n    \"2022-06-21\",\r\n    \"2022-06-22\",\r\n    \"2022-06-23\",\r\n    \"2022-06-24\",\r\n    \"2022-06-25\",\r\n    \"2022-06-26\",\r\n    \"2022-06-27\",\r\n    \"2022-06-28\",\r\n    \"2022-06-29\",\r\n    \"2022-06-30\"\r\n]\r\nexport default dateRange;","// Module imports\r\nimport React, { Component } from 'react';\r\nimport { View, Text, ImageBackground, Pressable, ScrollView, ActivityIndicator } from 'react-native';\r\nimport { Icon } from 'react-native-eva-icons'\r\n\r\n// Component imports\r\nimport UserEntryCards from './subcomponents/UserEntryCards';\r\n\r\n// Local imports\r\nimport dateRange from '../shared/dateRange';\r\nimport styles from '../styles/entrancesStyles';\r\n\r\n// cors-midpoint uri (needed to avoid cors' allow-cross-origin error when fetching in web platforms)\r\nconst corsURI = Platform.OS == 'web' ? 'https://morning-journey-78874.herokuapp.com/' : ''\r\nconst appServerURI = 'https://mood-tracker-server.herokuapp.com/'\r\n\r\n// Defining pertinent constants\r\nconst monthDict = {'Jan': '01', 'Feb': '02', 'Mar': '03', 'Apr': '04', 'May': '05', 'Jun': '06', 'Jul': '07', 'Ago': '08', 'Sep': '09', 'Oct': '10', 'Nov': '11', 'Dec': '12'}\r\nconst englishMonthSigs = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dec']\r\nconst portugueseMonthSigs = ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez']\r\nconst englishWeekDayMap = {'Mon': 'Seg', 'Tue': 'Ter', 'Wed': 'Qua', 'Thu': 'Qui', 'Fri': 'Sex', 'Sat': 'Sab', 'Sun': 'Dom'}\r\n\r\n// Defining pertinent functions\r\nfunction Today() {\r\n    const now = Date().toString().split(' ')\r\n    const today = [ now[3], monthDict[now[1]], now[2] ].join('-')\r\n    return today\r\n}\r\nfunction getNextDate(date, next='next') {\r\n    const nextDate = dateRange[dateRange.indexOf(date) + (next=='previous' ? -1 : 1)]\r\n    return nextDate\r\n}\r\nfunction getTime() {\r\n    //Wed,Jan,26,2022,15:12:37,GMT-0300,(Horrio,Padro,de,Braslia)\r\n    const now = Date().toString().split(' ')\r\n    const time = now[4]\r\n    // const time = new Date().toLocaleTimeString()\r\n    return time\r\n}\r\nfunction formatDate(selDate) {\r\n    \r\n    var ymd = selDate.split('-')\r\n    const yesterday = getNextDate(Today(), 'previous')\r\n    const englishWeekDay = new Date(ymd[0], ymd[1], ymd[2]).toString().split(' ')[0]\r\n    const weekDay = englishWeekDayMap[englishWeekDay]\r\n    var prefix = ''\r\n\r\n    if (selDate === Today()) prefix = 'Hoje, '\r\n    else if (selDate === yesterday) prefix = 'Ontem, '\r\n    else prefix = weekDay + ', '\r\n    \r\n    for (var i=0; i<12; i++) {\r\n        if (monthDict[ englishMonthSigs[i] ] == ymd[1]) {\r\n            return prefix + oneDigit(ymd[2]) + ' ' + portugueseMonthSigs[i]\r\n        }\r\n    }\r\n}\r\nfunction oneDigit(stringNumber) {\r\n    if (stringNumber[0] == '0') return stringNumber.slice(1, stringNumber.length)\r\n    else return stringNumber\r\n}\r\n\r\nexport default class EntrancesScreen extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            \r\n            user: this.props.route.params.user,\r\n            date: Today(),\r\n            time: getTime(),\r\n            selectedDate: Today(),\r\n            // entriesLoading: false,\r\n            userDataSynced: false,\r\n            isUserDataSyncing: false,\r\n            isDeleteEntryLoading: false,\r\n            alertMsg: '',\r\n            locationPermission: null,\r\n        };\r\n        this.onNextButtonPress = this.onNextButtonPress.bind(this);\r\n        this.forgetPosted = this.forgetPosted.bind(this);\r\n        this.setAlertMsg = this. setAlertMsg.bind(this);\r\n        this.setSelectedEntryId = this.setSelectedEntryId.bind(this);\r\n        this.setUserInfo = this.setUserInfo.bind(this);\r\n        this.setIsDeleteEntryLoading = this.setIsDeleteEntryLoading.bind(this);\r\n        this.syncUserData = this.syncUserData.bind(this);\r\n        // this.passUserData = this.passUserData.bind(this);\r\n        this.getMainScreenState = this.getMainScreenState.bind(this);\r\n    }\r\n    \r\n    componentDidMount() {\r\n        console.log('\"Entries\" screen component did mount...')      \r\n        // this.props.navigation.setParams({posted: {status: false, entry: null}});\r\n        // this.syncUserData()\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        console.log('\"EntriesScreen\" component will unmount...')\r\n    }\r\n\r\n    getMainScreenState() {\r\n        return this.state\r\n    }\r\n\r\n    setSelectedEntryId(id) {\r\n        this.setState({selectedEntryId: id})\r\n    }\r\n\r\n    setIsDeleteEntryLoading(value) {\r\n        this.setState({isDeleteEntryLoading: value})\r\n    }\r\n\r\n    onNextButtonPress(next='next') {\r\n        function setSelectedDate() {\r\n            this.setState({\r\n                selectedEntryId: null,\r\n                selectedDate: getNextDate(this.state.selectedDate, next),\r\n            })\r\n        }\r\n        return setSelectedDate.bind(this);\r\n    }\r\n\r\n    forgetPosted() {\r\n        this.setState({\r\n            selectedEntryId: null,\r\n            selectedDate: this.props.route.params.posted.entry.type == 'new' ? Today() : this.state.selectedDate,\r\n        });\r\n        this.props.navigation.setParams({posted: {status: false, entry: null}});\r\n    }\r\n\r\n    setAlertMsg(msg) {\r\n        this.setState({alertMsg: msg})\r\n        setTimeout( () => this.setState({alertMsg: ''}) , 1000 * 5 )\r\n    }\r\n    \r\n    alertMsg() {\r\n        return(\r\n            <View style={[styles.msgBox, this.state.alertMsg ? {} : {backgroundColor: 'transparent', borderColor: 'transparent'} ]}>\r\n                <Text style={styles.msg}>{this.state.alertMsg}</Text>\r\n            </View>\r\n        )\r\n    }\r\n\r\n    DateNavigationButton = ({next, today}) => {\r\n        const buttonColor = next=='next' ? (today ? 'rgba(255,255,255,0.1)' : 'white') : 'white'\r\n        return(\r\n            <Pressable onPress={ this.onNextButtonPress(next) } disabled={ next=='next' & today }>\r\n                <Icon name={ next=='next' ? 'arrow-forward' : 'arrow-back'} width={35} height={35} fill={buttonColor} />\r\n            </Pressable>\r\n        )\r\n    }\r\n\r\n    setUserInfo(user) {\r\n        this.setState({user: user, userDataSynced: true})\r\n    }\r\n\r\n    // passUserData() {\r\n    //     return this.state.user\r\n    // }\r\n\r\n    async syncUserData() {\r\n\r\n        console.log('SYNC ENTRIES STATUS: Started...')\r\n        this.setState({ isUserDataSyncing: true, userDataSynced: false });\r\n    \r\n        try {\r\n\r\n            var UsersResult = await fetch( corsURI + appServerURI + 'Users', { method: 'GET' });\r\n            const usersStatus =  'Status: ' + UsersResult.status + ', ' + UsersResult.statusText\r\n\r\n            if (UsersResult.ok) {\r\n                const users = await UsersResult.json();\r\n                const user = users.filter((user) => user.email === this.state.user.email)[0]\r\n                console.log('fetch GET request for user entries successful.')\r\n                console.log(usersStatus)\r\n\r\n                this.setState({user: user, userDataSynced: true})\r\n                console.log('SYNC ENTRIES STATUS: Successful.')\r\n\r\n            } else {\r\n                console.log( new Error('\"fetch\" GET request for user entries failed. Throwing error...') )\r\n                throw new Error(usersStatus)\r\n            }\r\n    \r\n        } catch (error) {\r\n                console.log('SYNC ENTRIES STATUS: Error captured. Printing error...')\r\n                console.log(error);\r\n                this.setAlertMsg('No foi possvel sincronizar as entradas. Por favor, aguarde..')\r\n\r\n        } finally {\r\n            this.setState({ isUserDataSyncing: false });\r\n            console.log('SYNC ENTRIES STATUS: Finished.')\r\n        }    \r\n    }\r\n\r\n    render() {\r\n        console.log('Rendering \"EntriesScreen\" component...')\r\n\r\n        const today = this.state.selectedDate === Today()\r\n        const navigateParams = {\r\n            user: this.state.user,\r\n            currentEntry: {type: 'new', date: Today(), entry: null},\r\n            syncUserData: this.syncUserData,\r\n            setMainScreenState: this.setState.bind(this),\r\n            getMainScreenState: this.getMainScreenState,\r\n        }\r\n        const isLoading = this.state.isUserDataSyncing | this.state.isDeleteEntryLoading\r\n        return(\r\n            <ImageBackground source={require('../assets/wallpaper.jpg')} style={[styles.mainView]}>\r\n                \r\n                <ScrollView style={styles.scrollView}>\r\n                    <View style={styles.section}>\r\n                        <View style={[styles.cardRow, {justifyContent: 'space-between'}]}>\r\n                            <this.DateNavigationButton icon='arrow-back' next='previous' />\r\n                            <Text style={styles.sectionTitle}> {'Suas entradas    ' + formatDate(this.state.selectedDate)} </Text>                                \r\n                            <this.DateNavigationButton icon='arrow-forward' next='next' today={today} />\r\n                        </View>\r\n                        <UserEntryCards\r\n                        date={this.state.selectedDate}\r\n                        selectedEntryId={this.state.selectedEntryId}\r\n                        posted={this.props.route.params.posted}\r\n                        user={this.state.user}\r\n                        isUserDataSyncing={this.state.isUserDataSyncing}\r\n                        setUserInfo={this.setUserInfo}\r\n                        syncUserData={this.syncUserData}\r\n                        // passUserData={this.passUserData}\r\n                        setMainScreenState ={this.setState.bind(this)}\r\n                        getMainScreenState={this.getMainScreenState}\r\n                        setSelectedEntryId={this.setSelectedEntryId}\r\n                        isDeleteEntryLoading={this.state.isDeleteEntryLoading}\r\n                        setIsDeleteEntryLoading={this.setIsDeleteEntryLoading}\r\n                        forgetPosted={this.forgetPosted}\r\n                        setAlertMsg = {this.setAlertMsg}\r\n                        navigation = {this.props.navigation}\r\n                        />\r\n                    </View>\r\n                </ScrollView>\r\n\r\n                <Pressable\r\n                onPress={() => {this.props.navigation.navigate( 'PostEntrance', navigateParams )}}\r\n                style={[styles.postButton, {backgroundColor: isLoading ? 'white' : 'black'}]}\r\n                disabled={isLoading}\r\n                >\r\n                { this.state.isUserDataSyncing ? (\r\n                        <ActivityIndicator color='black' size={'large'} />\r\n                ) : (\r\n                    this.state.isDeleteEntryLoading ? (\r\n                        <ActivityIndicator color='red' size={'large'} />\r\n                    ) : (\r\n                        <Icon name='plus-circle' width={72} height={72} fill='white' style={styles.postButtonLabel}/>\r\n                    )\r\n                )\r\n                \r\n}\r\n                </Pressable>\r\n\r\n                {this.alertMsg()}\r\n  \r\n            </ImageBackground>\r\n            )\r\n\r\n    }\r\n  }\r\n","import { StatusBar } from 'expo-status-bar';\r\n// import { Platform } from 'react-native';\r\n\r\nconst styles = {\r\n  login: {\r\n    msgBox: {\r\n      position: 'absolute',\r\n      bottom: '10%',\r\n      width: 300,\r\n      alignSelf: 'center',\r\n      // width: 350,\r\n      height: 36,\r\n      justifyContent: 'center',\r\n      backgroundColor: 'rgb(30,30,30)',\r\n      borderWidth: 1,\r\n      borderColor: 'rgb(40,40,40)',\r\n    },\r\n    msg: {\r\n        textAlign: 'center',\r\n        color: 'white',\r\n        // paddingHorizontal: 15,\r\n    },\r\n  },\r\n  mainView: {\r\n    flex: 1,                 \r\n    marginTop: StatusBar.currentHeight,\r\n  },\r\n  entrances: {\r\n    marginTop: StatusBar.currentHeight,\r\n    borderWidth: 0,\r\n    flex:1,\r\n    justifyContent: 'space-between',\r\n    alignItems: 'flex-start',\r\n  },\r\n  scrollView: {\r\n    // paddingHorizontal: Platform.OS != 'web' ? '5%' : '5%',\r\n    width: '100%',\r\n    alignSelf: 'center',\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    paddingBottom: '0%',\r\n    paddingHorizontal: '5%',\r\n    alignSelf: 'stretch',\r\n    borderColor: 'black',\r\n  },\r\n  section: {\r\n    width: 350,\r\n    paddingVertical: '16%',\r\n    borderBottomWidth: 1,\r\n    borderColor: 'rgba(155,155,155,0.3)',\r\n    alignSelf: 'center',\r\n  },\r\n  contentRow: {\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n    marginTop: 22,\r\n    borderWidth: 1,\r\n    borderColor: 'rgba(155,155,155, 0.4)',\r\n    borderRadius: 30,\r\n    backgroundColor: 'rgba(255,255,255, 0.3)',\r\n\r\n  },\r\n  entryTitle: {\r\n    paddingVertical: 3,\r\n    paddingLeft: 4,\r\n    fontSize: 19,\r\n    color: 'white',\r\n  },\r\n  entryIcon: {\r\n    paddingRight: 0,\r\n  },\r\n  postButtonView: {\r\n    height: 60,\r\n    width: 60,\r\n    borderRadius: 30,\r\n    alignSelf: 'center',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'white',\r\n  },\r\n  postButtonLabel: {\r\n    fontSize: 45,\r\n    fontWeight: 'bold',\r\n  },\r\n  moodButtonView: {\r\n    width: 65,\r\n    height: 65,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderWidth: 1,\r\n  },\r\n  moodButton: {\r\n    width: 65,\r\n    height: 65,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  date: {\r\n    position: 'relative',\r\n    left: '60%',\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 10,\r\n    fontSize: 15,\r\n    alignSelf: 'center',\r\n    backgroundColor: 'white',\r\n    borderRadius: 20\r\n  },\r\n  jornalText: {\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 12,\r\n    flex: 1,\r\n    textAlignVertical: 'top',\r\n    width: '100%',\r\n    borderRadius: 20,\r\n    color: 'white',\r\n    fontSize: 16,\r\n  },\r\n  saveButton: {\r\n    height: 50,\r\n    width: '100%',\r\n    borderTopLeftRadius: 30,\r\n    borderTopRightRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'white'\r\n  },\r\n  saveButtonLabel: {\r\n    fontWeight:'bold',\r\n    fontSize: 19\r\n  },\r\n  card: {\r\n    marginTop: '5%',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 20,\r\n    backgroundColor: 'rgba(0,0,0,0.2)',\r\n  },\r\n  cardRow: {\r\n      flexDirection: 'row',\r\n      paddingVertical: 5,\r\n      alignItems: 'center',\r\n  },\r\n  moodBadge: {\r\n      backgroundColor: 'green',\r\n      borderRadius: 30,\r\n      paddingVertical: 6,\r\n      width: 130,\r\n      fontSize: 16,\r\n      textAlign: 'center',\r\n  },\r\n  emotionBadge: {\r\n      backgroundColor: 'rgba(1,1,1,0.5)',\r\n      borderRadius: 30,\r\n      paddingVertical: 6,\r\n      paddingHorizontal: 12.5,\r\n      fontSize: 15,\r\n      textAlign: 'center',\r\n      marginVertical: 5,\r\n      marginHorizontal: 5\r\n  },\r\n  entryCardEmotionBadge: {\r\n    backgroundColor: 'aliceblue',\r\n    borderRadius: 30,\r\n    paddingVertical: 7,\r\n    paddingHorizontal: 12.5,\r\n    marginRight: 6,\r\n    fontSize: 15,\r\n    textAlign: 'center',\r\n  },\r\n  datetimeTitle: {\r\n    fontSize: 16,\r\n    marginRight: 3,\r\n  },\r\n  editButtonsView: {\r\n    flexDirection: 'row',\r\n    height: 55,\r\n    paddingVertical: 5,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'space-between'\r\n  },\r\n  editButton: {\r\n    height: 34,\r\n    width: 102,\r\n    borderWidth: 1,\r\n    borderColor: 'aliceblue',\r\n    borderRadius: 17,\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n  editButtonLabel: {\r\n      fontSize: 15,\r\n      fontWeight: '400',\r\n      color: 'white',\r\n  },\r\n}\r\n\r\nexport default styles;","import React, { Component, useState } from 'react';\r\nimport { View, Text,  Pressable, TextInput, ActivityIndicator, Platform } from 'react-native';\r\nimport { Icon } from 'react-native-eva-icons'\r\nimport VectorIcon from 'react-native-vector-icons/MaterialCommunityIcons';\r\nimport styles from '../../styles/postEntryStyles'\r\n\r\n// cors-midpoint uri (needed to avoid cors' allow-cross-origin error when fetching in web platforms)\r\nconst corsURI = Platform.OS == 'web' ? 'https://morning-journey-78874.herokuapp.com/' : ''\r\nconst appServerURI = 'https://mood-tracker-server.herokuapp.com/'\r\n\r\nfunction capitalize(multipleWordString) {\r\n    var words = multipleWordString.split(' ');\r\n    var CapitalizedWords = [];\r\n    words.forEach(element => {\r\n    CapitalizedWords.push(element[0].toUpperCase() + element.slice(1, element.length));\r\n    });\r\n    return CapitalizedWords.join(' ');\r\n}\r\n\r\nexport default class EditEmotions extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showEditMenu: false,\r\n            showExpandMenuButton: true,\r\n            mode: 'hidden',\r\n            newEmotionName: '',\r\n            selectedEmotionType: null,\r\n            selectedEmotionEnergy: null,\r\n        }\r\n        this.EditEmotionsMenu = this.EditEmotionsMenu.bind(this);\r\n        this.EditEmotionsSection = this.EditEmotionsSection.bind(this);\r\n        this.onSaveEmotionButtonPress = this.onSaveEmotionButtonPress.bind(this);\r\n    }\r\n\r\n    EditEmotionsSection() {\r\n\r\n        const emotionTypes = ['Positiva', 'Negativa']\r\n        const emotionEnergy = ['Calmo(a)', 'Energizado(a)']\r\n\r\n        const inputSectionStyle = {marginTop: 0, marginTop: 0   , alignItems: 'center'}\r\n        const textStyle = {color: 'white', fontSize: 16, alignSelf: 'center', marginBottom: 8}\r\n        const inputStyle = {width: '70%', height: 35, borderRadius: 16.5, color: 'white', backgroundColor: 'rgba(0,0,0,0.7)', fontSize: 15, textAlign: 'center' }\r\n        const tagStyle = {width: '45%', height: 28, borderRadius: 13.5,  marginBottom: 7, color: 'white', alignItems: 'center', justifyContent: 'center'}\r\n        const createEmotionViewStyle = {height: 420, marginTop: 20, paddingTop: 10, justifyContent: 'space-evenly', borderTopWidth: 1, borderTopColor: 'rgba(255,255,255,0.2)'}\r\n\r\n        const [isButtonPressed, setIsButtonPressed] = useState({\r\n            'Salvar': false,\r\n            'Voltar': false,\r\n            'Terminar': false,\r\n        })\r\n        function highlightButtonFor(label) {\r\n            function highlightButton() {\r\n                setIsButtonPressed({ ...isButtonPressed, [label]: !isButtonPressed[label] })\r\n            }\r\n            return highlightButton.bind(this);\r\n        }\r\n\r\n        const isLoading = (\r\n            this.props.isDeleteEmotionLoading |\r\n            this.props.isSaveEmotionLoading |\r\n            this.props.isPostEntryLoading |\r\n            this.props.isUserDataSyncing |\r\n            this.props.isUpdateUserDataLoading\r\n        )\r\n\r\n        const isNewEmotionFormComplete = !this.state.newEmotionName | !this.state.selectedEmotionType | !this.state.selectedEmotionEnergy\r\n\r\n        switch (this.state.mode) {\r\n\r\n            case 'hidden':\r\n                return null\r\n\r\n            case 'create':\r\n\r\n                return(\r\n                    <View style={createEmotionViewStyle}>\r\n                        <Text style={{color: 'white', fontSize: 22, alignSelf: 'center'}}>Criar emoo</Text>\r\n                        <View style={inputSectionStyle}>\r\n                            <Text style={textStyle}>Nome</Text>\r\n                            <TextInput\r\n                            placeholder='Nome da emoo...'\r\n                            placeholderTextColor={'rgba(255,255,255,0.4)'}\r\n                            style={inputStyle}\r\n                            onChangeText={text => this.setState({newEmotionName: text})}\r\n                            value={this.state.newEmotionName}\r\n                            />\r\n                        </View>\r\n                        <View style={inputSectionStyle}>\r\n                            <Text style={textStyle}>Tipo</Text>\r\n                            { emotionTypes.map((type) => {\r\n                                const typeSelected = this.state.selectedEmotionType === type\r\n                                return(\r\n                                    <Pressable\r\n                                    key={'emotion-'+type}\r\n                                    onPress={() => this.setState({selectedEmotionType: typeSelected ? null : type })}\r\n                                    style={[tagStyle, {backgroundColor: typeSelected ? 'rgba(0,0,0,0.8)' : 'rgba(0,0,0,0.3)'}]}>\r\n                                        <Text style={[{fontSize: 15, color: 'white'}]}>{type}</Text>\r\n                                    </Pressable>\r\n                                )\r\n                            }) }\r\n                        </View>\r\n                        <View style={inputSectionStyle}>\r\n                            <Text style={textStyle}>Energia</Text>\r\n                            { emotionEnergy.map((type) => {\r\n                                const typeSelected = this.state.selectedEmotionEnergy === type\r\n                                return(\r\n                                    <Pressable\r\n                                    key={'emotion-'+type}\r\n                                    onPress={() => this.setState({selectedEmotionEnergy: typeSelected ? null : type })}\r\n                                    style={[tagStyle, {backgroundColor: typeSelected ? 'rgba(0,0,0,0.8)' : 'rgba(0,0,0,0.3)'}]}>\r\n                                        <Text style={[{fontSize: 15, color: 'white'}]}>{type}</Text>\r\n                                    </Pressable>\r\n                                )\r\n                            }) }\r\n                        </View>\r\n                        <View style={[inputSectionStyle, {flexDirection: 'row', justifyContent: 'space-evenly'}]}>\r\n                            <Pressable\r\n                            onPress={() => {\r\n                                highlightButtonFor('Salvar')()\r\n                                this.onSaveEmotionButtonPress()\r\n                                setIsButtonPressed({'Salvar': false})\r\n                            }}\r\n                            onPressIn={highlightButtonFor('Salvar')}\r\n                            disabled={isLoading | isNewEmotionFormComplete}\r\n                            style={[styles.editButton, {\r\n                                alignSelf: 'center',\r\n                                backgroundColor: isButtonPressed['Salvar'] ? '#fff5' : '#fff0',\r\n                                borderColor: isLoading | isNewEmotionFormComplete ? '#fff5' : '#ffff',\r\n                                }]}>\r\n                                <Text style={[styles.editButtonLabel, {color: isLoading | isNewEmotionFormComplete ? '#fff5' : '#ffff'}]}>Salvar</Text>\r\n                            </Pressable>\r\n                            <Pressable\r\n                            onPress={() => {\r\n                                highlightButtonFor('Voltar')()\r\n                                this.setState({showEditMenu: true, showExpandMenuButton: true, mode: 'hidden'})\r\n                                setIsButtonPressed({'Voltar': false})\r\n                            }}\r\n                            onPressIn={highlightButtonFor('Voltar')}\r\n                            disabled={isLoading}\r\n                            style={[styles.editButton, {\r\n                                alignSelf: 'center',\r\n                                borderColor: isLoading ? '#fff5' : '#ffff',\r\n                                backgroundColor: isButtonPressed['Voltar'] ? '#fff5' : '#fff0'\r\n                                }]}>\r\n                                <Text style={[styles.editButtonLabel, {color: isLoading ? '#fff5' : '#ffff'}]}>Voltar</Text>\r\n                            </Pressable>\r\n                            </View>\r\n                    </View>\r\n                )\r\n\r\n            case 'delete':\r\n                return(\r\n                    <View style={[createEmotionViewStyle, {height: 150}]}>\r\n                        <Text style={{color: 'white', fontSize: 22, alignSelf: 'center'}}>Excluir emoes</Text>\r\n                        <Text style={{color: 'white', fontSize: 16, textAlign: 'center'}}>Pressione e segure para excluir uma emoo.</Text>\r\n                        <View style={[styles.cardRow, {justifyContent: 'space-evenly'}]}>\r\n                            <Pressable\r\n                            onPress={() => {\r\n                                highlightButtonFor('Terminar')();\r\n                                this.props.setParentState({deleteEmotionMode: false});\r\n                                this.setState({showEditMenu: true, showExpandMenuButton: true, mode: 'hidden'});\r\n                                setIsButtonPressed({'Terminar': false})\r\n                            }}\r\n                            onPressIn={highlightButtonFor('Terminar')}\r\n                            disabled={isLoading}\r\n                            style={[styles.editButton, {\r\n                                alignSelf: 'center',\r\n                                borderColor: isLoading ? '#fff5' : '#ffff',\r\n                                backgroundColor: isButtonPressed['Terminar'] ? '#fff5' : '#fff0'\r\n                            }]}\r\n                            >\r\n                                <Text style={[styles.editButtonLabel, {color: isLoading ? '#fff5' : '#ffff'}]}>Terminar</Text>\r\n                            </Pressable>\r\n                        </View>\r\n                    </View>\r\n                )\r\n\r\n            default:\r\n                return null\r\n\r\n        }\r\n\r\n    }\r\n\r\n    EditEmotionsMenu() {\r\n\r\n        const buttonLabels = ['Criar', 'Excluir', 'Layout']\r\n        const onButtonPress = { \r\n            'Criar': () => this.setState({showEditMenu: false, showExpandMenuButton: false, mode: 'create'}),\r\n            'Excluir': () => {\r\n                this.props.setParentState({deleteEmotionMode: !this.props.deleteEmotionMode})\r\n                this.setState({showEditMenu: false , showExpandMenuButton: false, mode: 'delete'})\r\n            },\r\n            'Layout': () => {}\r\n        }\r\n        const [isButtonPressed, setIsButtonPressed] = useState({\r\n            'Criar': false,\r\n            'Excluir': false,\r\n            'Layout': false,\r\n        })\r\n        function highlightButtonFor(label) {\r\n            function highlightButton() {\r\n                setIsButtonPressed({ ...isButtonPressed, [label]: !isButtonPressed[label] })\r\n            }\r\n            return highlightButton.bind(this);\r\n        }\r\n\r\n        const showEditMenu =  this.state.showEditMenu\r\n        const showExpandMenuButton = this.state.showExpandMenuButton\r\n        const hidden = this.state.mode == 'hidden'\r\n        const anyOpen = showEditMenu || !hidden\r\n\r\n        const isLoading = (\r\n            this.props.isPostEntryLoading |\r\n            this.props.isUserDataSyncing |\r\n            this.props.isUpdateUserDataLoading |\r\n            this.props.isDeleteEmotionLoading |\r\n            this.props.isSaveEmotionLoading\r\n        )\r\n\r\n        return(\r\n            <>\r\n                { showExpandMenuButton ? (\r\n                    <View style={[styles.cardRow, {height: 50, marginTop: 25, paddingTop: 10, justifyContent: showEditMenu ? 'space-between' : 'center', borderTopWidth: 1, borderTopColor: 'rgba(255,255,255,0.2)'}]}>\r\n                        { showEditMenu ? ( \r\n                            buttonLabels.map((label) => (\r\n                                <Pressable\r\n                                key={`emotion-${label}`}\r\n                                style={[styles.editButton,  {\r\n                                    backgroundColor: isButtonPressed[label] ? '#fff5' : '#0000',\r\n                                    borderColor: isLoading ? '#fff5' : '#ffff',\r\n                                    width: 75\r\n                                }]}\r\n                                disabled={ isLoading }\r\n                                onPress={() => {\r\n                                    highlightButtonFor(label)(); onButtonPress[label]()\r\n                                    setIsButtonPressed({ [label]: false })\r\n                                } }\r\n                                onPressIn={highlightButtonFor(label)}\r\n                                >\r\n                                    <Text style={[styles.editButtonLabel, {color: isLoading ? '#fff5' : '#ffff'}]}>{label}</Text>                    \r\n                                </Pressable>\r\n                            ))\r\n                        ) : null }\r\n                        <Pressable\r\n                        onPress={() => this.setState({ showEditMenu:  !showEditMenu })}\r\n                        // disabled={isLoading}\r\n                        style={{flexDirection: 'row', alignItems: 'center', justifyContent: 'center', paddingVertical: 5, width: 75}}>\r\n                            <Icon name={ !showEditMenu ? 'more-horizontal-outline' : 'arrow-back-outline' } fill='white' width={20} height={20} />\r\n                            <Text style={{color: 'white', fontSize: 15, marginLeft: 0}}> {anyOpen ? 'menos' : 'mais'}</Text>\r\n                        </Pressable>\r\n                    </View> \r\n                ) :  null  }\r\n            </>\r\n\r\n        )\r\n    }\r\n\r\n    async onSaveEmotionButtonPress() {\r\n\r\n        const newEmotionAlreadyExists = Object.keys(this.props.isSelectedEmotions).includes(capitalize(this.state.newEmotionName))\r\n        if (newEmotionAlreadyExists) {\r\n            this.props.setAlertMsg('Esse nome j est sendo usado, escolha outro para continuar.')\r\n            return\r\n        }\r\n\r\n        try {\r\n            this.props.setParentState({ isSaveEmotionLoading: true });\r\n            var user = this.props.route.params.user;\r\n            const newEmotion = {\r\n                name: capitalize(this.state.newEmotionName),\r\n                type: this.state.selectedEmotionType,\r\n                energy: this.state.selectedEmotionEnergy,\r\n            }\r\n\r\n            console.log('POST EMOTION STATUS: Started...')\r\n            var postEmotionResult = {ok: false, status: '999', statusText: 'Post not fetched yet.'}\r\n            const postUserEntryOpts = { \r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify( newEmotion ),\r\n            }\r\n            // var postUserEntryResult = await fetch('http://localhost:3000/Users/' + info.username + '/emotions', postUserEntryOpts);\r\n            postEmotionResult = await fetch( corsURI + appServerURI + 'Users/' + user.username + '/emotions', postUserEntryOpts);\r\n            const postEmotionStatus = 'Status: ' + postEmotionResult.status + ', ' + postEmotionResult.statusText\r\n\r\n            if (postEmotionResult.ok) {\r\n                console.log('POST EMOTION STATUS: Successful.')\r\n                console.log(postEmotionStatus)\r\n                this.setState({\r\n                    showEditMenu: true,\r\n                    showExpandMenuButton: true,\r\n                    mode: 'hidden',\r\n                    newEmotionName: '',\r\n                    selectedEmotionType: null,\r\n                    selectedEmotionEnergy: null,        \r\n                })\r\n                    \r\n            } else {\r\n                console.log('POST EMOTION STATUS: Failed. Throwing error...')\r\n                throw new Error(postEmotionStatus)\r\n            }\r\n\r\n        } catch (error) {\r\n            this.props.setAlertMsg('Erro no servidor. Tente novamente...')\r\n            console.log('Erro capturado:')\r\n            console.log(error);\r\n\r\n        } finally {\r\n            console.log('POST EMOTION STATUS: Finished.')\r\n            this.props.setParentState({ isSaveEmotionLoading: false });\r\n            if (postEmotionResult.ok) {\r\n                this.props.setParentState({ isUserDataSyncing: true });\r\n                await this.props.route.params.syncUserData();\r\n                this.props.setParentState({ isUserDataSyncing: false, isUpdateUserDataLoading: true });\r\n                this.props.updateUserData();\r\n                this.props.setParentState({ isUpdateUserDataLoading: false });\r\n            }\r\n        }\r\n \r\n    }\r\n    \r\n    render() {\r\n        return(\r\n            <>\r\n                <this.EditEmotionsSection />\r\n                <this.EditEmotionsMenu />\r\n            </>\r\n        )\r\n    }\r\n\r\n}","const GoogleMapsAPI = {\r\n    GoogleMapsJavascriptAPIkey: \"AIzaSyBVWbOwPAMRyz2bS6rYHrDftVeihQ8WMCo\",\r\n    GoogleMapsGeocodingAPIKey: \"AIzaSyB6O-DpvulBC0rom1mGy-mBcstIbPlDPHA\",\r\n}\r\n\r\nexport default GoogleMapsAPI","const OpenWeatherMapAPI = {\r\n    KEY: \"de9e6896f84109d7920528172207411a\",\r\n}\r\nexport default OpenWeatherMapAPI\r\n","import React, { Component } from 'react';\r\nimport { View, Text, ImageBackground, Pressable, ScrollView, Platform, TextInput, ActivityIndicator } from 'react-native';\r\n\r\nimport { Icon } from 'react-native-eva-icons'\r\nimport VectorIcon from 'react-native-vector-icons/MaterialCommunityIcons';\r\nimport EditEmotions from './subcomponents/EditEmotions'\r\nimport styles from '../styles/postEntryStyles'\r\n\r\n// Geocoding and weather dependencies and APIs\r\nimport * as Location from 'expo-location';\r\nimport GoogleMapsAPI from './subcomponents/GoogleMapsAPI'\r\nLocation.setGoogleApiKey(GoogleMapsAPI.GoogleMapsGeocodingAPIKey)\r\nimport OpenWeatherMapAPI from './subcomponents/OpenWeatherMapAPI';\r\n\r\n// cors-midpoint uri (needed to avoid cors' allow-cross-origin error when fetching in web platforms)\r\nconst corsURI = Platform.OS == 'web' ? 'https://morning-journey-78874.herokuapp.com/' : ''\r\nconst appServerURI = 'https://mood-tracker-server.herokuapp.com/'\r\n\r\n// Date() => wed jan 91 2022 07:46:57 ...\r\nconst now = new Date().toString().split(' ')\r\nconst datetime = now[2] + ' ' + now[1] + ' ' + now[3] + ' - ' + now[4].slice(0, 5)\r\n\r\n// Mood configs\r\nconst moods = ['Horrvel', 'Mal', 'Regular', 'Bem', 'timo']\r\nconst moodColorsHEX = ['#ff3333', '#0099cc', '#add8e6', '#ffff33', '#00cc00']\r\nconst moodColorsRGBA = ['rgba(255, 51, 51, 1)', 'rgba(0, 153, 204, 1)', 'rgba(173, 216, 230, 1)', 'rgba(255, 255, 51, 1)', 'rgba(0, 204, 0, 1)']\r\nconst moodColorsTransp = (alpha) => [`rgba(255, 51, 51, ${alpha})`, `rgba(0, 153, 204, ${alpha})`, `rgba(173, 216, 230, ${alpha})`, `rgba(255, 255, 51, ${alpha})`, `rgba(0, 204, 0, ${alpha})`]\r\nconst moodIcons = ['emoticon-dead', 'emoticon-sad', 'emoticon-neutral', 'emoticon-happy', 'emoticon-excited']\r\n\r\n// Emotion configs\r\nconst emotionGroupsNames = [ 'Bem & Calmo(a)', 'Bem & Energizado(a)', 'Mal & Calmo(a)', 'Mal & Energizado(a)' ]\r\nconst emotionTypes = ['Positiva', 'Negativa']\r\n\r\nfunction buildIsSelectedEmotions(emotions) {\r\n    var isSelectedEmotions = {}\r\n    for ( let emotion of emotions) {\r\n        isSelectedEmotions[emotion.name] = false\r\n    }\r\n    return isSelectedEmotions\r\n}\r\n\r\n// Date config\r\nconst monthSigs = ['Jan', 'Feb', 'Mar', 'Apr', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dec']\r\nconst months = ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12']\r\n\r\nconst monthNameMap = {\r\n    '01': 'Janeiro',\r\n    '02': 'Fevereiro',\r\n    '03': 'Maro',\r\n    '04': 'Abril',\r\n    '05': 'Maio',\r\n    '06': 'Junho',\r\n    '07': 'Julho',\r\n    '08': 'Agosto',\r\n    '09': 'Setembro',\r\n    '10': 'Outubro',\r\n    '11': 'Novembro',\r\n    '12': 'Dezembro',\r\n}\r\n\r\n// Functions\r\n\r\nfunction convertMonthSig(monthSig) {\r\n    const thisMonth = months[monthSigs.indexOf(monthSig)]\r\n    return thisMonth\r\n}\r\n\r\nfunction Today() {\r\n    const now = Date().toString().split(' ')\r\n    const today = [ now[3], convertMonthSig(now[1]), now[2] ].join('-')\r\n    return today\r\n}\r\n\r\nfunction getTime() {\r\n    //Wed,Jan,26,2022,15:12:37,GMT-0300,(Horrio,Padro,de,Braslia)\r\n    const now = Date().toString().split(' ')\r\n    const time = now[4]\r\n    return time\r\n}\r\n\r\nfunction oneDigit(stringNumber) {\r\n    if (stringNumber[0] == '0') return stringNumber.slice(1, stringNumber.length)\r\n    else return stringNumber\r\n}\r\n\r\nfunction formatPostEntryDatetimeTitle(date, time) {\r\n    const ymd = date.split('-')\r\n    const m = monthNameMap[ ymd[1] ]\r\n    return oneDigit( ymd[2] ) + ' ' + m + ' ' + ymd[0] + (time ? ' - ' : '') + time.slice(0,5)\r\n}\r\n\r\nfunction formattedAddress(addressObj) {\r\n    return addressObj.street + ', ' + addressObj.streetNumber + ' - ' + addressObj.district + ', ' + addressObj.subregion + '. ' + addressObj.region + ', ' + addressObj.isoCountryCode + '.'\r\n}\r\n\r\nfunction mapEmotions(emotions, layout='grid') {\r\n    var userEmotionGroups = layout=='grid' ? [[],[],[],[]] : [[],[]]\r\n    var emotionLabels = layout=='grid' ? emotionGroupsNames : emotionTypes\r\n    for (let emotion of emotions) {\r\n        if (layout=='grid') {\r\n            if (emotion.type=='Positiva') {\r\n                if (emotion.energy=='Calmo(a)')\r\n                userEmotionGroups[0] = [ ...userEmotionGroups[0], emotion]\r\n                else if (emotion.energy=='Energizado(a)')\r\n                userEmotionGroups[1] = [ ...userEmotionGroups[1], emotion]\r\n            } else if (emotion.type=='Negativa') {\r\n                if (emotion.energy=='Calmo(a)')\r\n                userEmotionGroups[2] = [ ...userEmotionGroups[2], emotion]\r\n                else if (emotion.energy=='Energizado(a)')\r\n                userEmotionGroups[3] = [ ...userEmotionGroups[3], emotion]\r\n            }   \r\n        } else if (layout=='type') {\r\n            if (emotion.type=='Positivo')\r\n            userEmotionGroups[0] = [ ...userEmotionGroups[0], emotion]\r\n            else if (emotion.type=='Negativo')\r\n            userEmotionGroups[1] = [ ...userEmotionGroups[1], emotion]\r\n        }\r\n    }\r\n    return [userEmotionGroups, emotionLabels]\r\n}\r\n\r\nfunction sortObjListByKey(objList, objKey) {\r\n    const keys = objList.map(obj => obj[objKey])\r\n    const sortedKeys = [...keys].sort()\r\n    var newObjList = []\r\n    sortedKeys.forEach(key => {\r\n        newObjList.push( objList[keys.indexOf(key)] )\r\n    })\r\n    return newObjList\r\n}\r\n\r\nexport default class PostEntranceScreen extends Component {\r\n  \r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: this.props.route.params.user,\r\n\r\n            date: '',\r\n            startTime: '',\r\n            endTime: '',\r\n            createdAt: '',\r\n            lastEdited: [],\r\n\r\n            star: false,\r\n            selectedMood: '',\r\n            emotions: [],\r\n            jornalEntry: '',    \r\n            address: '',\r\n            location: null,\r\n            weather: null,\r\n\r\n            selectedEntry: 'Avaliao',\r\n            isMoodUnmarked: true,\r\n            isSelectedEmotions: buildIsSelectedEmotions(this.props.route.params.user.emotions),\r\n            isFetchingLocationOrWeather: false,\r\n            isPostEntryLoading: false,\r\n            isDeleteEmotionLoading: false,\r\n            isSaveEmotionLoading: false,\r\n            deleteEmotionMode: false,\r\n            isUpdateUserDataLoading: false,\r\n            isUserDataSyncing:  false,\r\n\r\n            userCoordinates: null,\r\n            loginMsg: '',\r\n        };\r\n\r\n        this.initializeEntry = this.initializeEntry.bind(this);\r\n        this.onSaveButtonPress = this.onSaveButtonPress.bind(this);\r\n        this.saveButton = this.saveButton.bind(this);\r\n        this.setLoginMsg = this.setLoginMsg.bind(this);\r\n        this.EmotionButtons = this.EmotionButtons.bind(this);\r\n        this.MoodButtons = this.MoodButtons.bind(this);\r\n        this.postEntryHeader = this.postEntryHeader.bind(this);\r\n        this.onEmotionButtonPress = this.onEmotionButtonPress.bind(this);\r\n        this.onMoodButtonPress = this.onMoodButtonPress.bind(this);\r\n        this.inputCardBody = this.inputCardBody.bind(this);\r\n        this.setSelectedEntry = this.setSelectedEntry.bind(this);\r\n        this.InputCard = this.InputCard.bind(this);\r\n        this.JornalInput = this.JornalInput.bind(this);\r\n        this.postNewEntryAsync = this.postNewEntryAsync.bind(this);\r\n        this.updateUserData = this.updateUserData.bind(this);\r\n        // this.setDeleteEmotionMode = this.setDeleteEmotionMode.bind(this);\r\n        this.deleteEmotion = this.deleteEmotion.bind(this);\r\n        this.onEmotionButtonLongPress = this.onEmotionButtonLongPress.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log('\"PostEntry\" component did mount.')\r\n        this.initializeEntry()\r\n    }\r\n\r\n    postEntryHeader() {\r\n        return(\r\n            <View style={[styles.cardRow, {justifyContent: 'space-between'}]}>\r\n                <Pressable onPress={() => {this.props.navigation.goBack()}}  style={styles.postButton}>\r\n                    <Icon name='arrow-back' fill='white' height={30} width={30}/>\r\n                </Pressable>\r\n                <View style={[styles.entryCardEmotionBadge, {flexDirection: 'row', alignItems: 'center'}]}>\r\n                    <Text style={styles.datetimeTitle}> { formatPostEntryDatetimeTitle(this.props.route.params.currentEntry.date, this.state.startTime) } </Text>\r\n                    <Icon name='edit' fill='rgba(75,75,75,1)' height={20} width={20}/>\r\n                </View>\r\n                <Pressable onPress={() => {this.setState({star: !this.state.star})}}  style={styles.postButton}>\r\n                    <Icon name={this.state.star ? 'star' : 'star-outline'} fill='rgba(245,245,245,0.7)' height={30} width={30}/>\r\n                </Pressable>\r\n            </View>\r\n        )\r\n    }\r\n\r\n    MoodButtons() {\r\n        return moods.map((item, index) => {\r\n            const selected = this.state.selectedMood == item\r\n            const isMoodUnmarked = this.state.isMoodUnmarked\r\n            const selColor = moodColorsRGBA[index]\r\n            return(\r\n                <View key={'mood '+index} style={styles.moodButton}>\r\n                    <VectorIcon\r\n                    name={moodIcons[index]}\r\n                    size={isMoodUnmarked ? 52 : (selected ? 57 : 50) }\r\n                    color={ isMoodUnmarked ? selColor : (selected ? selColor : moodColorsTransp(0.5)[index]) }\r\n                    onPress={this.onMoodButtonPress(item)}\r\n                    />\r\n                </View>\r\n            )\r\n        })\r\n    }\r\n\r\n    onMoodButtonPress(item) {\r\n        function selectMood() {\r\n            if (this.state.selectedMood==item) {\r\n                this.setState({selectedMood: null, isMoodUnmarked: true})\r\n            } else {\r\n                this.setState({selectedMood: item, isMoodUnmarked: false})\r\n            }\r\n        }\r\n        selectMood = selectMood.bind(this);\r\n        return selectMood\r\n    }\r\n\r\n    EmotionButtons(emotions) {\r\n        return(\r\n            sortObjListByKey(emotions, 'name').map( emotion => (\r\n                <Pressable\r\n                key={'emotion-' + emotion.name}\r\n                title={emotion.name}\r\n                onPress={this.onEmotionButtonPress(emotion.name)}\r\n                onLongPress={this.onEmotionButtonLongPress(emotion.name)}\r\n                suppressHighlighting={true}\r\n                selectable={false}\r\n                >\r\n                    <Text onLongPress={null} style={[styles.emotionBadge, {backgroundColor: this.state.isSelectedEmotions[emotion.name] ? 'lightblue' : 'aliceblue' }]}>{emotion.name}</Text>\r\n                </Pressable>\r\n            ))\r\n        )\r\n    }\r\n\r\n    onEmotionButtonPress(emotion) {\r\n        function selectEmotion () {\r\n            this.setState({\r\n                isSelectedEmotions: {\r\n                    ...this.state.isSelectedEmotions,\r\n                    [emotion]: !this.state.isSelectedEmotions[emotion]\r\n                }\r\n            })    \r\n        }\r\n        selectEmotion = selectEmotion.bind(this);\r\n        return selectEmotion\r\n    }\r\n\r\n    onEmotionButtonLongPress(emotion) { \r\n        function selectEmotion () {\r\n            if (this.state.deleteEmotionMode) {\r\n                this.deleteEmotion(emotion)\r\n            }\r\n        }\r\n        selectEmotion = selectEmotion.bind(this);\r\n        return selectEmotion\r\n    }\r\n\r\n    JornalInput() {\r\n        return(\r\n            <TextInput\r\n            multiline\r\n            scrollEnabled\r\n            placeholder='Escreva aqui...'\r\n            placeholderTextColor='rgba(255,255,255,0.6)'\r\n            onChangeText={text => this.setState({jornalEntry: text})}\r\n            value={this.state.jornalEntry}\r\n            style={styles.jornalText}\r\n            >\r\n            </TextInput>\r\n        )\r\n    }\r\n\r\n    inputCardBody(sectionName, cardBodyStyle, cardBodyContent) {\r\n        if (this.state.selectedEntry === sectionName) {\r\n            if (sectionName == 'Emoes') {\r\n\r\n                const [userEmotionGroups, emotionLabels] = mapEmotions(this.state.user.emotions)\r\n                return(\r\n                    <>\r\n                        { userEmotionGroups.map((emotions, index) => (\r\n                            <View key={'emotion-group-' + index} style={{width: '100%', alignItems: 'center', marginVertical: 10}}>\r\n                                <Text style={{fontSize: 15, color: 'white', marginVertical: 8}}>{emotionLabels[index]}</Text>\r\n                                <View key={index} style={[styles.cardRow, cardBodyStyle]}>\r\n                                    {cardBodyContent(emotions)}\r\n                                </View>\r\n                            </View>\r\n                        )) }\r\n                        <EditEmotions\r\n                        {...this.props}\r\n                        {...this.state}\r\n                        setParentState={this.setState.bind(this)}\r\n                        updateUserData={this.updateUserData}\r\n                        setAlertMsg={this.setLoginMsg}\r\n                        />\r\n                    </>\r\n    \r\n                )\r\n            } else {\r\n                return(\r\n                    <View style={[styles.cardRow, cardBodyStyle]}>\r\n                        {cardBodyContent}\r\n                    </View>\r\n                )    \r\n            }\r\n        } else {\r\n            return(\r\n                <></>\r\n            )\r\n        }\r\n    }\r\n\r\n    InputCard(sectionName, icon, cardBodyStyle, cardBodyContent) {\r\n        return(\r\n            <View style={[styles.card]} >\r\n                <Pressable style={styles.cardRow} onPress={this.setSelectedEntry(sectionName)} >\r\n                    <Icon name={icon} fill='rgba(255,255,255,0.75)' height={28} width={28} style={styles.entryIcon} />\r\n                    <Text style={styles.entryTitle}> {sectionName} </Text>\r\n                </Pressable>    \r\n                {this.inputCardBody(sectionName, cardBodyStyle, cardBodyContent)}  \r\n            </View>   \r\n        )\r\n    }\r\n\r\n    setSelectedEntry (entry) {\r\n        function setSelected() {\r\n            this.setState( {selectedEntry:  this.state.selectedEntry === entry ? null : entry  } )\r\n        }\r\n        setSelected = setSelected.bind(this);\r\n        return setSelected\r\n    }\r\n\r\n    loginMsg() {\r\n        return(\r\n          <View style={[styles.login.msgBox, this.state.loginMsg ? {} : {backgroundColor: 'transparent', borderColor: 'transparent'} ]}>\r\n            <Text style={styles.login.msg}>{this.state.loginMsg}</Text>\r\n          </View>\r\n        )\r\n    }\r\n\r\n    setLoginMsg(msg) {\r\n        this.setState({loginMsg: msg})\r\n        setTimeout( () => this.setState({loginMsg: ''}) , 1000 * 5 )\r\n    }    \r\n\r\n    async initializeEntry() {\r\n        const currentEntry = this.props.route.params.currentEntry\r\n        const user = this.state.user\r\n        switch (currentEntry.type) {\r\n            case 'new':\r\n                console.log('POST ENTRY STATUS: INITIATING BLANK NEW ENTRY! FETCHING LOCATION AND WEATHER DATA...')\r\n                this.setState({\r\n                    date: currentEntry.date,\r\n                    startTime: getTime(),\r\n                    endTime: '',\r\n                    isFetchingLocationOrWeather: true\r\n                })\r\n                await this.checkIfLocationEnabled();\r\n                await this.getCurrentLocation();                    \r\n                await this.fetchWeather()\r\n                this.setState({isFetchingLocationOrWeather: false})\r\n            break;\r\n        \r\n            case 'custom-date':\r\n                console.log('POST ENTRY STATUS: INITIALIZING CUSTOM DATE ENTRY! SETTING DATE TO: ' + currentEntry.date)\r\n                this.setState({\r\n                    date: currentEntry.date,\r\n                    startTime: '',\r\n                    endTime: '',\r\n                })\r\n                break\r\n\r\n            case 'edit':\r\n                const entry = currentEntry.entry\r\n                const currentEmotions = entry.emotions.map(emotion => emotion.name)\r\n                var isSelectedEmotionsNew = {}\r\n                for ( let emotion of user.emotions ) {\r\n                    isSelectedEmotionsNew[emotion.name] = currentEmotions.includes(emotion.name)\r\n                }\r\n\r\n                this.setState({\r\n                    date: entry.date,\r\n                    startTime: entry.startTime,\r\n                    endTime: entry.endTime,\r\n                    createdAt: entry.createdAt,\r\n                    lastEdited: entry.lastEdited,\r\n                    star: entry.star,\r\n                    selectedMood: entry.mood,\r\n                    isSelectedEmotions: isSelectedEmotionsNew,\r\n                    jornalEntry: entry.jornal,\r\n                    address: entry.address,\r\n                    location: entry.location,\r\n                    weather: entry.weather,\r\n                    isMoodUnmarked: false,\r\n                })\r\n                break\r\n    \r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    updateUserData() {\r\n        console.log('UPDATING USER DATA IN \"PostEntryComponent\"...')\r\n        this.setState({isUpdateUserDataLoading: true})\r\n        const user = this.props.route.params.getMainScreenState().user\r\n\r\n        const oldEmotions = Object.keys(this.state.isSelectedEmotions)\r\n        const currentEmotions = user.emotions.map(emotion => emotion.name)\r\n        const newEmotions = currentEmotions.filter(emotion => oldEmotions.includes(emotion))\r\n\r\n        const newEmotionsSelected = buildIsSelectedEmotions(newEmotions)\r\n        oldEmotions.forEach(emotion => { \r\n            if (currentEmotions.includes(emotion)) \r\n                newEmotionsSelected[emotion] = this.state.isSelectedEmotions[emotion]\r\n        })\r\n\r\n        this.setState({\r\n            user: user,\r\n            isSelectedEmotions: newEmotionsSelected,\r\n            isUpdateUserDataLoading: false\r\n        })\r\n    }\r\n\r\n    saveButton() {\r\n        const isDataLoading = (\r\n            this.state.isFetchingLocationOrWeather |\r\n            this.state.isPostEntryLoading |\r\n            this.state.isSaveEmotionLoading |\r\n            this.state.isDeleteEmotionLoading |\r\n            this.state.isUserDataSyncing |\r\n            this.state.isUpdateUserDataLoading\r\n        )\r\n        var color;\r\n        switch (true) {\r\n            case this.state.isFetchingLocationOrWeather:\r\n                color = 'brown'\r\n                break;\r\n        \r\n            case this.state.isPostEntryLoading:\r\n                color = 'black'\r\n                break;\r\n            case this.state.isSaveEmotionLoading:\r\n                color = 'green'\r\n                break;\r\n            case this.state.isDeleteEmotionLoading:\r\n                color = 'red'\r\n                break;\r\n            case this.state.isUserDataSyncing:\r\n                color = 'blue'\r\n                break;\r\n            case this.state.isUpdateUserDataLoading:\r\n                color = 'green'\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        return(\r\n            <Pressable\r\n            onPress={this.onSaveButtonPress}\r\n            disabled={isDataLoading}\r\n            style={styles.saveButton}\r\n            >\r\n                { isDataLoading ? (\r\n                    <ActivityIndicator size='small' color={color} />\r\n                ) : (\r\n                    <Text style={styles.saveButtonLabel}> Salvar </Text>\r\n                ) }\r\n            </Pressable>\r\n        )\r\n    }\r\n\r\n    onSaveButtonPress() {\r\n        if (!this.state.selectedMood) {\r\n            this.setLoginMsg('Adicione uma avaliao para continuar.')\r\n            this.setState({selectedEntry: 'Avaliao'})\r\n            return\r\n        }\r\n        const currentEntry = this.props.route.params.currentEntry\r\n        var lastEdited = getTime()\r\n        var createdAt, endTime\r\n        switch (currentEntry.type) {\r\n            case 'new':\r\n                endTime = lastEdited\r\n                createdAt = lastEdited\r\n                break;\r\n            case 'custom-date':\r\n                endTime = this.state.endTime // Returns empty string ''.\r\n                createdAt = lastEdited\r\n                break\r\n            case 'edit':\r\n                endTime = this.state.endTime\r\n                createdAt = this.state.createdAt\r\n                break\r\n            default:\r\n                break;\r\n        }\r\n        const newEntryPost = {\r\n            date: this.state.date,\r\n            startTime: this.state.startTime,\r\n            endTime: endTime,\r\n            createdAt: createdAt,\r\n            lastEdited: [ ...this.state.lastEdited, {date: Today(), time: lastEdited}],\r\n            star: this.state.star,\r\n            mood: this.state.selectedMood,\r\n            emotions: this.state.user.emotions.filter( emotion => this.state.isSelectedEmotions[emotion.name] ),\r\n            jornal: this.state.jornalEntry,\r\n            address: this.state.address,\r\n            location: this.state.location,\r\n            weather: this.state.weather,\r\n        }\r\n        this.postNewEntryAsync(newEntryPost)\r\n    }\r\n    \r\n    async postNewEntryAsync(newEntry) {\r\n        this.setState({ isPostEntryLoading: true });\r\n        var user = this.props.route.params.user;\r\n        const currentEntry = this.props.route.params.currentEntry\r\n        const editMode = currentEntry.type === 'edit';\r\n        try {\r\n            console.log('POST ENTRY STATUS: Started...')\r\n            var postUserEntryResult = {ok: false, status: '999', statusText: 'Post not fetched yet.'}\r\n            const postUserEntryOpts = { \r\n                method: editMode? 'PUT' : 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify( newEntry ),\r\n            }\r\n            // var postUserEntryResult = await fetch('http://localhost:3000/Users/' + info.username + '/entries', postUserEntryOpts);\r\n            postUserEntryResult = await fetch( corsURI + appServerURI + 'Users/' + user.username + '/entries' + (editMode ? '/'+currentEntry.entry._id : ''), postUserEntryOpts);\r\n            const postUserEntryStatus = 'Status: ' + postUserEntryResult.status + ', ' + postUserEntryResult.statusText\r\n\r\n            if (postUserEntryResult.ok) {\r\n                console.log('POST ENTRY STATUS: Successful.')\r\n                console.log(postUserEntryStatus)\r\n                    \r\n            } else {\r\n                console.log('POST ENTRY STATUS: Failed. Throwing error...')\r\n                throw new Error(postUserEntryStatus)\r\n            }\r\n\r\n        } catch (error) {\r\n            this.setLoginMsg('Erro no servidor. Tente novamente...')\r\n            console.log('Erro capturado:')\r\n            console.log(error);\r\n\r\n        } finally {\r\n            console.log('POST ENTRY STATUS: Finished.')\r\n            this.setState({ isPostEntryLoading: false });\r\n            if (postUserEntryResult.ok) this.props.navigation.navigate('Entrances', {posted: {status: true, entry: currentEntry} } )\r\n        }\r\n    }\r\n\r\n    // setDeleteEmotionMode() {\r\n    //     this.setState({deleteEmotionMode: !this.state.deleteEmotionMode})\r\n    // }\r\n\r\n    async deleteEmotion(emotion) {\r\n        this.setState({ isDeleteEmotionLoading: true });\r\n        var user = this.state.user;\r\n        try {\r\n            console.log('DELETE EMOTION STATUS: Started...')\r\n            var postEmotionResult = {ok: false, status: '999', statusText: 'Post not fetched yet.'}\r\n            const postUserEntryOpts = { \r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n            }\r\n            // var postUserEntryResult = await fetch('http://localhost:3000/Users/' + info.username + '/emotions', postUserEntryOpts);\r\n            postEmotionResult = await fetch( corsURI + appServerURI + 'Users/' + user.username + '/emotions/' + emotion, postUserEntryOpts);\r\n            const postEmotionStatus = 'Status: ' + postEmotionResult.status + ', ' + postEmotionResult.statusText\r\n\r\n            if (postEmotionResult.ok) {\r\n                console.log('DELETE EMOTION STATUS: Successful.')\r\n                console.log(postEmotionStatus)\r\n                    \r\n            } else {\r\n                console.log('DELETE EMOTION STATUS: Failed. Throwing error...')\r\n                throw new Error(postEmotionStatus)\r\n            }\r\n\r\n        } catch (error) {\r\n            this.setLoginMsg('Erro no servidor. Tente novamente...')\r\n            console.log('Erro capturado:')\r\n            console.log(error);\r\n\r\n        } finally {\r\n            console.log('DELETE EMOTION STATUS: Finished.')\r\n            this.setState({ isDeleteEmotionLoading: false });\r\n            if (postEmotionResult.ok) {\r\n                this.setState({isUserDataSyncing: true})\r\n                await this.props.route.params.syncUserData();\r\n                this.setState({isUserDataSyncing: false})\r\n                this.updateUserData();\r\n            }\r\n        }\r\n \r\n    }\r\n\r\n    async fetchWeather() {\r\n\r\n        try {\r\n            if (this.state.userCoordinates) {\r\n\r\n                console.log('FETCH WEATHER STATUS: STARTED...!')\r\n                const coords = this.state.userCoordinates\r\n                const lat = coords.latitude\r\n                const lng = coords.longitude\r\n                \r\n                await fetch(\r\n                    `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lng}&APPID=${OpenWeatherMapAPI.KEY}&units=metric`\r\n                )\r\n                .then(res => {\r\n                    const resStatus = 'Status: ' + res.status + ', Status Text: ' + res.statusText\r\n                    if (!res.ok) \r\n                        throw new Error(resStatus)\r\n                    else {\r\n                        return res.json()\r\n                    }\r\n                })\r\n                .then(weather => {\r\n                    console.log('FETCH WEATHER STATUS: SUCCESSFUL!')\r\n                    // console.log(weather);\r\n\r\n                    const weatherInfo = {\r\n                        coords: weather.coord,\r\n                        name: weather.name,\r\n                        weather: weather.weather[0],\r\n                        main: weather.main,\r\n                        clouds: weather.clouds,\r\n                        wind: weather.wind,\r\n                        visibility: weather.visibility,\r\n                    }\r\n\r\n                    this.setState({weather: weatherInfo})\r\n                });\r\n        \r\n            } else {\r\n            // this.setLoginMsg('No foi possvel obter as condies do tempo. Tente reabrir essa tela...')\r\n            console.log('FETCH WEATHER STATUS: UNABLE TO START! USER POSITION NOT AVAILABLE.')\r\n            }\r\n\r\n        } catch (error) {\r\n            this.setLoginMsg('No foi possvel obter as condies do tempo. Tente reabrir essa tela...')\r\n            console.log('FETCH WEATHER STATUS: ERROR! LOGGING ERROR...')\r\n            console.log(error)\r\n\r\n        } finally {\r\n            console.log('FETCH WEATHER STATUS: FINISHED!')    \r\n        }\r\n    }\r\n\r\n    // Check if device has location services enabled\r\n    async checkIfLocationEnabled () {\r\n\r\n        try{\r\n            console.log('GEOCODING PROCESS (CHECK): CHECKING IF USER HAS SERVICES ENABLED.' )\r\n            let enabled = await Location.hasServicesEnabledAsync();            \r\n\r\n            if (!enabled) {\r\n                console.log('GEOCODING PROCESS (CHECK): CHECKED! USER DOES NOT HAVE SERVICES ENABLED.' )\r\n                this.setLoginMsg('No foi possvel obter sua localizao. Habilite o servio de localizao para associar um endereo a essa entrada...')\r\n            } else {\r\n                console.log('GEOCODING PROCESS (CHECK): CHECKED! USER HAS SERVICES ENABLED.')\r\n            }\r\n\r\n        } catch(error) {\r\n            this.setLoginMsg('No foi possvel conferir se o servio de localizao est ativado. Tente reabrir essa tela...')\r\n            console.log(\"GEOCODING PROCESS (CHECK): ERROR IN SERVICES PERMISSION CHECK! COULD'NT CHECK IF USER HAS SERVICES ENABLED.\")\r\n        \r\n        } finally {\r\n            console.log(\"GEOCODING PROCESS (CHECK): FINISHED!\")\r\n        }\r\n    };\r\n\r\n    // Check for permission, get current user position and use reverse geocoding for user coordinates\r\n    async getCurrentLocation() {\r\n\r\n        try {\r\n\r\n            if (this.props.route.params.getMainScreenState().locationPermission === 'granted') {\r\n                console.log('GEOCODING PROCESS (PERMISSION): PERMISSION ALREADY GRANTED. SKIPPING REQUEST...')\r\n            } else {\r\n                console.log('GEOCODING PROCESS (PERMISSION): REQUESTING PERMISSION ASYNC...')\r\n                let { status } = await Location.requestForegroundPermissionsAsync()\r\n                // let { status } = await Location.requestBackgroundPermissionsAsync()        \r\n                this.props.route.params.setMainScreenState({locationPermission: status})\r\n    \r\n                if (status !== 'granted') {\r\n                    console.log('GEOCODING PROCESS (PERMISSION): PERMISSION NOT GRANTED!')\r\n                    this.setLoginMsg('Permisso de localizao no concedida. Permita que o app use os servios de localizao para associar um endereo a essa entrada...')\r\n                    return \r\n    \r\n                } else {\r\n                    console.log('GEOCODING PROCESS (PERMISSION): PERMISSION GRANTED!')\r\n                }\r\n            }\r\n\r\n            console.log('GEOCODING PROCESS (REQUEST): GETTING CURRENT USER POSITION ASYNC...')\r\n            let { coords } = await Location.getCurrentPositionAsync();\r\n            \r\n            if (coords) {   \r\n                const { latitude, longitude } = coords;\r\n                this.setState({userCoordinates: coords})\r\n                console.log(`GEOCODING PROCESS (REQUEST): CURRENT USER POSITION FOUND... Latitude: ${latitude}, Logitude: ${longitude}`)\r\n                console.log('GEOCODING PROCESS (REVERSE GEOCODING): REVERSE GEOCODE ASYNC...')  \r\n                let response = await Location.reverseGeocodeAsync({ latitude, longitude });\r\n        \r\n                if (response) {\r\n                    this.setState({ address: formattedAddress(response[0]), location: { position: coords, address: response[0] } })\r\n                    console.log('GEOCODING PROCESS (REVERSE GEOCODING): REVERSE GEOCODE SUCCESSFUL! UPDATING STATE...')  \r\n\r\n                } else {\r\n                    console.log('GEOCODING PROCESS (REVERSE GEOCODING): REVERSE GEOCODE FAILED! LOGGING RESPONSE...')  \r\n                    console.log(response)\r\n                }\r\n        \r\n            } else {\r\n                console.log(`GEOCODING PROCESS (REVERSE GEOCODING): USER POSITION NOT FOUND! UNABLE TO PROCEED TO REVERSE GEOCODING...`)\r\n            }\r\n\r\n        } catch (error) {\r\n            this.setLoginMsg('No foi possvel obter a localizao atual. Tente reabrir essa tela...')\r\n            console.log('GEOCODING PROCESS: ERROR IN USER POSITION REQUEST! LOGGING ERROR...')\r\n            console.log(error)\r\n        \r\n        } finally {\r\n            console.log('GEOCODING PROCESS: USER POSITION REQUEST FINISHED. PROCEEDING TO FETCH WEATHER DATA...')\r\n        }\r\n    };\r\n\r\n    render() {\r\n        console.log('Rendering \"PostEntry\" component...')\r\n        return(\r\n            <ImageBackground source={require('../assets/wallpaper.jpg')} style={styles.mainView}>\r\n\r\n                <ScrollView style={styles.scrollView}>\r\n                    <View style={styles.section}>\r\n                            {this.postEntryHeader()}\r\n                            {this.InputCard('Avaliao', 'smiling-face', {justifyContent: 'space-between'}, this.MoodButtons())}\r\n                            {this.InputCard('Emoes', 'checkmark-square-outline', {flexWrap: 'wrap', justifyContent: 'center'}, this.EmotionButtons)}\r\n                            {this.InputCard('Jornal', 'book', {flexDirection: 'column', minHeight: 130}, this.JornalInput())}\r\n                    </View>\r\n                </ScrollView>  \r\n\r\n                <this.saveButton />\r\n\r\n                {this.loginMsg()}\r\n\r\n            </ImageBackground>\r\n        )    \r\n    }\r\n}","var styles = {\r\n    login: {\r\n        mainView: {\r\n            flex: 1,\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            // paddingHorizontal: Platform.OS != 'web' ? '5%' : '5%',\r\n        },\r\n        titleView: {\r\n            flexDirection: 'row',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            minHeight: 60,\r\n        },\r\n        title: {\r\n            fontSize: 30,\r\n            fontWeight: 'bold',\r\n            color: 'white',\r\n            alignSelf: 'center',\r\n        },\r\n        titleIcon: {\r\n            width: 30,\r\n            height: 30,\r\n            marginLeft: 6,\r\n            paddingTop: 3,\r\n        },\r\n        card: {\r\n            height: '55%',\r\n            minHeight: 390,\r\n            width: 350,\r\n            paddingHorizontal: 10,\r\n            paddingVertical: 10,\r\n            borderWidth: 1,\r\n            borderRadius: 10,\r\n            backgroundColor: 'azure',\r\n        },\r\n        cardHeader: {\r\n            height: '25%',\r\n            width: '100%',\r\n        },\r\n        cardTitle: {\r\n            position: 'relative',\r\n            top: '30%',\r\n            left: '5%',\r\n            fontSize: 24,\r\n            fontWeight: 'bold',\r\n            color: 'black',\r\n        },\r\n        cardSection: {\r\n            height: '25%',\r\n            justifyContent: 'space-evenly',\r\n            alignItems: 'center',\r\n        },\r\n        loadingIcon: {\r\n            alignSelf: 'center'\r\n        },\r\n        inputField: {\r\n            minHeight: 40,\r\n            width: '100%',\r\n            paddingLeft: 10,\r\n            fontSize: 14,\r\n            borderWidth: 1,\r\n            borderRadius: 5,\r\n            backgroundColor: 'white'\r\n        },\r\n        button: {\r\n            height: 40,\r\n            width: '100%',\r\n            textAlign: 'center',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            borderWidth: 1,\r\n            borderRadius: 5,\r\n            borderColor: 'white',\r\n            backgroundColor: 'lightblue',        \r\n        },\r\n        buttonLabel: {\r\n            fontSize: 15,\r\n            fontWeight: 'bold',\r\n            color: 'black',\r\n        },\r\n        text: {\r\n            fontSize: 15,\r\n            textAlign: 'center',\r\n        },\r\n        msgBox: {\r\n            width: 300,\r\n            height: 36,\r\n            justifyContent: 'center',\r\n            backgroundColor: 'rgb(30,30,30)',\r\n            borderWidth: 1,\r\n            borderColor: 'rgb(40,40,40)',\r\n        },\r\n        msg: {\r\n            textAlign: 'center',\r\n            color: 'white',\r\n            // paddingHorizontal: 20,\r\n        },\r\n    }\r\n};\r\nexport default styles;","// import Icon from 'react-native-vector-icons/FontAwesome';\r\n// import { Ionicons } from '@expo/vector-icons';\r\nimport { Icon } from 'react-native-eva-icons'\r\n// import { WiDaySunny } from \"weather-icons-react\";\r\n\r\nimport React, { Component } from 'react';\r\nimport { View, Text, ImageBackground, TextInput, Pressable, Platform, ActivityIndicator } from 'react-native';\r\nconst defaultEmotions = require('../shared/emotionsConfig')\r\nimport styles from '../styles/loginStyles'\r\n\r\n// App server connection settings\r\nconst corsURI = Platform.OS == 'web' ? 'https://morning-journey-78874.herokuapp.com/' : ''\r\nconst appServerURI = 'https://mood-tracker-server.herokuapp.com/'\r\n\r\n// Email Validation settings\r\n\r\n// const Verifier = require('email-verifier')\r\nconst emailVerification_APIKEY = \"at_TPKXmSQnStekLzTbstLO9GyHvd7or\"\r\n// let verifier = new Verifier(emailVerification_APIKEY);\r\nconst emailVerification_APIURI = (emailAddress) => `https://emailverification.whoisxmlapi.com/api/v2?apiKey=${emailVerification_APIKEY}&emailAddress=${emailAddress}`\r\nconst falseParams = ['validateDNS', 'checkCatchAll', 'checkFree', 'checkDisposable']\r\nfunction appendValueToUri(uri, params, value) {\r\n  for (let param of params) {\r\n    uri += '&' + param + '=' + value\r\n  }\r\n  return uri\r\n}\r\n\r\nasync function validateEmail(email) {\r\n\r\n  console.log('EMAIL VERIFICATION STATUS: Fetching email verification api...')\r\n\r\n  try {\r\n\r\n    var uri = emailVerification_APIURI(email)\r\n    uri = appendValueToUri(uri, falseParams, '0')\r\n    var emailStatus = {ok: false, status: 'Email no verificado.'}\r\n    const apiResp = await fetch( uri , { method: 'GET' } )\r\n  \r\n    if (apiResp.ok) {\r\n  \r\n      console.log('EMAIL VERIFICATION STATUS: Api fetch request successful.')\r\n      const apiRespJson = await apiResp.json()\r\n  \r\n      if ( apiRespJson.formatCheck=='false' ) {\r\n        emailStatus.status = 'Email invlido.'\r\n      } else if ( apiRespJson.smtpCheck=='false' ) {\r\n        emailStatus.status = 'Email no existe.'\r\n      } else {\r\n        emailStatus = {ok: true, status: 'Email vlido.'}\r\n      }\r\n      \r\n      return emailStatus\r\n  \r\n    } else {\r\n      console.log('EMAIL VERIFICATION STATUS: Api fetch request failed. Throwing error...')\r\n      throw new Error('Status: ' + apiResp.status + ', Status Text: ' + apiResp.statusText)\r\n    }  \r\n\r\n  } finally {\r\n    console.log('EMAIL VERIFICATION STATUS: Concludo')\r\n\r\n  }\r\n  // Use the email verification api using its module...\r\n  // verifier.verify(email, (err, data) => {\r\n  //   if (err) throw err;\r\n  //   console.log(data);\r\n  // });\r\n}\r\n\r\nfunction validatePassword(password) {\r\n  console.log('VALIDATING PASSWORD FOR SIGNUP...')\r\n\r\n  const hasMinLength = password.length > 6\r\n  var res\r\n  if (!hasMinLength) {\r\n    res = {ok: false, status: 'A senha deve ter no mnimo 6 caractres.'}\r\n  } else {\r\n    res = {ok: true, status: 'Senha vlida.'}\r\n  }\r\n  return res\r\n}\r\n\r\nclass LoginScreen extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      userInfo: {\r\n        password: '',\r\n        email: '',\r\n        username: '',\r\n      },\r\n      loginMsg: '',\r\n      isUserAuth: false,\r\n      isDataLoading: false,\r\n    }\r\n    this.onChangeText = this.onChangeText.bind(this);\r\n    this.submitButton = this.submitButton.bind(this);\r\n    this.loginMsg = this.loginMsg.bind(this);\r\n    this.setLoginMsg = this.setLoginMsg.bind(this);\r\n    this.onSignIn = this.onSignIn.bind(this);\r\n    this.onSignUp = this.onSignUp.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('\"LoginScreen\" component did mount...')\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    console.log('\"LoginScreen\" component will unmount...')\r\n  }\r\n\r\n  LoginIcon() {  \r\n    if (this.state.isDataLoading) {\r\n      return <ActivityIndicator color='#000000' />\r\n    } else {\r\n      return <Icon name='log-in-outline' animation='pulse' fill='#000' width={30} height={30} />\r\n    }\r\n  }\r\n\r\n  setLoginMsg(msg) {\r\n    this.setState({loginMsg: msg})\r\n    setTimeout( () => this.setState({loginMsg: ''}) , 1000 * 5 )\r\n  }\r\n\r\n  loginMsg() {\r\n      return(\r\n        <View style={[styles.login.msgBox, this.state.loginMsg ? {} : {backgroundColor: 'transparent', borderColor: 'transparent'} ]}>\r\n          <Text style={styles.login.msg}>{this.state.loginMsg}</Text>\r\n        </View>\r\n      )\r\n  }\r\n\r\n  onChangeText(textField) {\r\n    function setField(text) {\r\n      this.setState( { userInfo: { ...this.state.userInfo, [textField] : text}} )\r\n    }\r\n    setField = setField.bind(this);\r\n    return setField\r\n  }\r\n\r\n  submitButton(sign) {\r\n    const signIn = sign == 'signin'\r\n    return(\r\n      <Pressable disabled={this.state.isDataLoading} onPress={signIn ? this.onSignIn : this.onSignUp} style={[styles.login.button]}>\r\n        <Text style={styles.login.buttonLabel}>{ signIn ? 'Entrar' : 'Cadastrar' }</Text>\r\n      </Pressable>\r\n    )\r\n  }\r\n\r\n  LoginScreen = () => {\r\n    return(\r\n      <ImageBackground source={require('../assets/wallpaper.jpg')} style={[styles.login.mainView ,{justifyContent: 'space-evenly'}]}>\r\n        \r\n        <View style={styles.login.titleView}>\r\n          <Text style={styles.login.title}>Mood Tracker</Text>\r\n        </View>\r\n\r\n        <View style={styles.login.card}>\r\n          <View style={styles.login.cardHeader} >\r\n            <Text style={styles.login.cardTitle}>Entrar</Text>\r\n          </View>\r\n          <View style={styles.login.cardSection}>\r\n            <TextInput\r\n            placeholder='Email'\r\n            textContentType='emailAddress'\r\n            style={styles.login.inputField}\r\n            onChangeText={this.onChangeText('email')}\r\n            autoComplete='email'\r\n            importantForAutofill='yes'\r\n            >\r\n            </TextInput>\r\n            <TextInput\r\n            placeholder='Senha'\r\n            textContentType='password'\r\n            secureTextEntry={true}\r\n            style={styles.login.inputField}\r\n            onChangeText={this.onChangeText('password')}\r\n            autoComplete='password'\r\n            importantForAutofill='yes'\r\n            >\r\n            </TextInput>\r\n          </View>\r\n          <View style={styles.login.cardSection}>\r\n            {this.submitButton('signin')}\r\n            {this.submitButton('signup')}\r\n          </View>\r\n          <View style={[styles.login.cardSection]}>\r\n            {this.LoginIcon()}\r\n          </View>\r\n        </View>\r\n\r\n        {this.loginMsg()}\r\n\r\n      </ImageBackground>\r\n    )\r\n  }\r\n\r\n  isInputEmpty() {\r\n    if (!this.state.userInfo.email) {\r\n      const errMsg = 'Insira um endereo de email.'\r\n      this.setLoginMsg(errMsg)\r\n      console.log('SIGNIN STATUS: ' + errMsg)\r\n      return true\r\n    } else if (!this.state.userInfo.password) {\r\n      const errMsg = 'Insira uma senha.'\r\n      this.setLoginMsg(errMsg)\r\n      console.log('SIGNIN STATUS: ' + errMsg)\r\n      return true\r\n    } else return false\r\n  }\r\n\r\n  async onSignIn() {\r\n\r\n    console.log('SIGNIN STATUS: Started...')\r\n    var info = this.state.userInfo;\r\n    info.email = info.email.trim()\r\n    this.setState({ isDataLoading: true });\r\n\r\n    try {\r\n\r\n      if (this.isInputEmpty()) return\r\n\r\n      var UsersResult = await fetch( corsURI + appServerURI + 'Users', { method: 'GET' });\r\n      const UsersStatus = 'Status: ' + UsersResult.status + ', ' + 'Status Text: ' + UsersResult.statusText\r\n      if (UsersResult.ok) {\r\n        console.log('fetch GET request for users data at signin successful.');\r\n        console.log(UsersStatus)\r\n      } else {\r\n        console.log('fetch GET request for users data at signin failed. Printing fetch response...')\r\n        console.log(JSON.stringify(UsersResult))\r\n        console.log('Throwing error...')\r\n        throw new Error(UsersStatus)\r\n      }\r\n\r\n      const Users = await UsersResult.json();\r\n      const user = Users.filter((user) => user.email === info.email)[0]\r\n      \r\n      if ( user ) {          \r\n        \r\n        if (user.password === info.password) {\r\n          this.setState( {isUserAuth: true, userInfo: user} )\r\n          const successMsg = 'Login realizado com sucesso!'\r\n          this.setLoginMsg(successMsg)\r\n          console.log('SIGNIN STATUS: Sucesso.')\r\n\r\n        } else {\r\n          const errMsg = 'Senha incorreta.'\r\n          this.setLoginMsg(errMsg)\r\n          console.log('SIGNIN STATUS: ' + errMsg);\r\n        }\r\n\r\n      } else {\r\n        const errMsg = 'Email no cadastrado!'\r\n        this.setLoginMsg(errMsg)\r\n        console.log('SIGNIN STATUS: ' + errMsg)\r\n      }\r\n\r\n    } catch (error) {\r\n      const errMsg = 'Erro no servidor! Tente novamente...'\r\n      this.setLoginMsg(errMsg)\r\n      console.log('Error catched in fetch GET request for users data at signin. Printing Error...')\r\n      console.log('SIGNIN STATUS:' + 'Erro capturado. Imprimindo erro...')\r\n      console.log(error);\r\n\r\n    } finally {\r\n      this.setState({ isDataLoading: false });\r\n      console.log('SIGNIN STATUS: Concluido.')\r\n      if (this.state.isUserAuth) this.props.authUser(this.state.userInfo)        // Father class component method that authenticates the user and redirects to entrances screen.\r\n    }\r\n  }\r\n\r\n  async onSignUp() {\r\n\r\n    console.log('SIGNUP STATUS: started...')\r\n    var info = this.state.userInfo;\r\n    info.email = info.email.trim()\r\n    this.setState({ isDataLoading: true });\r\n    \r\n    try {\r\n\r\n      var postUserResult = {ok: false}\r\n      if (this.isInputEmpty()) return\r\n\r\n      // Validating email and password\r\n      const emailValidation = await validateEmail(info.email)\r\n      console.log('SING UP STATUS: ' + emailValidation.status)\r\n      if (!emailValidation.ok) {\r\n          this.setLoginMsg(emailValidation.status)\r\n          return\r\n      }\r\n\r\n      // Checking if email is already registerd\r\n      var UsersResult = await fetch( corsURI + appServerURI + 'Users', { method: 'GET' } );  \r\n      const reqStatus = 'Status: ' + UsersResult.status + ', ' + UsersResult.statusText\r\n      if (UsersResult.ok) {\r\n        console.log('fetch GET request for users data at signup successful.')\r\n        console.log(reqStatus)\r\n      } else {\r\n        console.log('fetch GET request for users data at signup failed. Throwing error...')\r\n        throw new Error(reqStatus)\r\n      }\r\n\r\n      const Users = await UsersResult.json();\r\n      const User = Users.filter((user) => user.email === info.email)[0]\r\n      if ( !User ) {\r\n\r\n        // Validating Password\r\n        const passwordCheck = validatePassword(info.password)\r\n        if (!passwordCheck.ok) {\r\n          console.log('SING UP STATUS: ' + passwordCheck.status)\r\n          this.setLoginMsg(passwordCheck.status)\r\n          return\r\n      }\r\n\r\n        // Registering new user by posting user identification to database\r\n        info.username = info.email.split('@')[0]\r\n        const postUserOpts = {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify( { ...info, emotions: defaultEmotions, entries: [] } )\r\n        }\r\n\r\n        postUserResult = await fetch( corsURI + appServerURI +  'Users/' + info.username, postUserOpts );\r\n        const postUserStatus = 'Status: ' + postUserResult.status + ', ' + postUserResult.statusText\r\n\r\n        if (postUserResult.ok) {\r\n          const successMsg = 'Cadastro realizado com sucesso!'\r\n          this.setLoginMsg(successMsg)\r\n          console.log('fetch POST request for user data at signup successful.')\r\n          console.log(postUserStatus)\r\n          console.log('SING UP STATUS: ' + successMsg)\r\n\r\n        } else {\r\n          console.log('fetch POST request for user data at signup failed. Throwing error...')\r\n          throw new Error(postUserStatus)\r\n        }\r\n\r\n      } else {\r\n        const errMsg = 'Email j cadastrado.'\r\n        this.setLoginMsg(errMsg)\r\n        console.log('SING UP STATUS: ' + errMsg)\r\n      }\r\n\r\n    } catch (error) {\r\n      const errMsg = 'Erro no servidor, tente novamente...'\r\n      this.setLoginMsg(errMsg)\r\n      console.log('SING UP STATUS: Erro capturado. Imprimindo erro...')\r\n      console.log(error);\r\n\r\n    } finally {\r\n      this.setState({ isDataLoading: false })\r\n      console.log('SING UP STATUS: Concluido.')\r\n      if (postUserResult.ok)  this.onSignIn()\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    console.log('Rendering \"LoginScreen\" component...')\r\n    return this.LoginScreen()\r\n  \r\n  }\r\n}\r\n\r\nexport default LoginScreen;","import React, { Component } from 'react';\nimport { Text, ImageBackground} from 'react-native';\n\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\n// import { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\n//import { createDrawerNavigator } from '@react-navigation/drawer';\n\nimport EntrancesScreen from './components/EntrancesComponent';\nimport PostEntranceScreen from './components/PostEntryComponent';\nimport LoginScreen from './components/LoginComponent'\n\nconst Stack = createNativeStackNavigator();\n// const Tab = createBottomTabNavigator();\n\nconst HomeScreen = (props) => {\n\n    console.log('Returning \"HomeScreen\" component...')\n  return(\n    <Stack.Navigator \n    initialRouteName='Entrances'\n    screenOptions={{\n      headerShown: false,\n    }}\n    >\n      <Stack.Screen\n      name=\"Entrances\"\n      component={EntrancesScreen}\n      options={{title: 'Suas entradas'}}\n      initialParams={{user: props.user, posted: {status: false, date: null, entry: null}}}\n      // initialParams={{userInfo: props.route.params.userInfo}}\n      />\n      <Stack.Screen\n      name=\"PostEntrance\"\n      component={PostEntranceScreen}\n      options={{title: 'Adicione uma  entrada'}}\n      initialParams={{user: props.user}}\n      // initialParams={{userInfo: props.route.params.userInfo}}\n      />\n    </Stack.Navigator>\n  )  \n}\n\n// function SettingsScreen() {\n//   return(\n//     <ImageBackground source={require('./assets/wallpaper.jpg')} style={{width: '100%', height: '100%'}}>\n//       <Text>Settings</Text>\n//     </ImageBackground>\n//   )\n// }\n\n// const mainScreenOptions = ({ route }) => ({\n//   headerShown: false,\n//   tabBarActiveTintColor: 'tomato',\n//   tabBarInactiveTintColor: 'gray',\n//   tabBarHideOnKeyboard: true,\n//   tabBarIcon: ({ focused, color, size }) => {\n//     let iconName;\n//     if (route.name === 'Home') {\n//       iconName = focused\n//         ? 'home'\n//         : 'home-outline';\n//     } else if (route.name === 'Settings') {\n//       iconName = focused ? 'settings' : 'settings-outline';\n//     }\n//     // You can return any component that you like here!\n//     return <Icon name={iconName} width={size} height={size} fill='rgb(35,35,35)'></Icon>\n//   },\n// })\n\nexport default class App extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isUserAuth: false,\n      user: null,\n    };\n    this.authUser = this.authUser.bind(this);\n  }\n\n  authUser(user) {\n    console.log('User authenticated. Navigating to \"HomeScreen\"...')\n    this.setState( {isUserAuth: true, user} )\n  }\n\n  render() {\n\n    if (!this.state.isUserAuth) {\n      return <LoginScreen authUser={this.authUser} />\n\n    } else {\n      return (\n\n        <NavigationContainer>\n          <HomeScreen user={this.state.user} />\n        </NavigationContainer>\n\n        // <NavigationContainer>\n        //   <Tab.Navigator\n        //     screenOptions={mainScreenOptions}\n        //   >\n        //     <Tab.Screen name=\"Home\" component={HomeScreen} initialParams={{userInfo: this.state.userInfo}}/>\n        //     <Tab.Screen name=\"Settings\" component={SettingsScreen} initialParams={{userInfo: this.state.userInfo}} />\n        //   </Tab.Navigator>    \n        // </NavigationContainer>\n\n      );  \n    }\n  }\n}","// Emotion configs\r\nconst emotionGroupsNames = [ 'Bem & Calmo', 'Bem & Energizado', 'Mal & Calmo', 'Mal & Energizado' ]\r\nconst goodEnergizedEmotions = ['Animao', 'Concentrao', 'Desinibio', 'Motivao', 'Euforia']\r\nconst goodCalmEmotions = ['Alvio', 'Calma', 'Conforto', 'Despreocupao', 'Inspirao', 'Orgulho', 'Paz', 'Relaxamento', 'Satisfao', 'Segurana', 'Criatividade']\r\nconst badEnergizedEmotions = ['Inquietao', 'Ansiedade', 'Desespero', 'Frustrao', 'Insatisfao', 'Irritao', 'Medo', 'Vergonha', 'Preocupao', 'Impacincia', 'Sobrecarregado(a)', 'Tenso']\r\nconst badCalmEmotions = ['Depresso', 'Timidez', 'Cansao', 'Tristeza','Confuso', 'Desanimo', 'Insegurana', 'Solido', 'Tdio']\r\n// const badEnergizedEmotions = ['Agitao', 'Ansiedade', 'Tristeza', 'Decepo', 'Depresso', 'Desespero', 'Frustrao', 'Insatisfao', 'Irritao', 'Medo', 'Paranoia', 'Preocupao', 'Impaciencia', 'Raiva', 'Revolta', 'Sobrecarregado(a)', 'Tenso', 'Nojo']\r\n\r\nconst emotionGroups = [ goodCalmEmotions.sort(), goodEnergizedEmotions.sort(), badCalmEmotions.sort(), badEnergizedEmotions.sort() ]\r\nconst basicEmotions = [ ...emotionGroups[0], ...emotionGroups[1], ...emotionGroups[2], ...emotionGroups[3] ]\r\n\r\nconst emotionTypes = ['Positiva', 'Negativa']\r\nconst emotionEnergy = ['Calmo(a)', 'Energizado(a)']\r\n\r\nvar defaultEmotions = []\r\nvar type, energy\r\n\r\nfor (let emotion of basicEmotions) {\r\n    type = emotionGroups[0].includes(emotion) || emotionGroups[1].includes(emotion) ? emotionTypes[0] : emotionTypes[1]\r\n    energy = emotionGroups[0].includes(emotion) || emotionGroups[2].includes(emotion) ? emotionEnergy[0] : emotionEnergy[1]\r\n    defaultEmotions.push({name: emotion, type: type, energy: energy})\r\n}\r\n\r\n// console.log(defaultEmotions);\r\n\r\nmodule.exports = defaultEmotions;"],"sourceRoot":""}