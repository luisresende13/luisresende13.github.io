(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{140:function(t,e,n){t.exports=n.p+"static/media/wallpaper.9987c866.jpg"},257:function(t,e,n){t.exports=n(863)},863:function(t,e,n){"use strict";n.r(e);var o=n(875),r=n(5),s=n.n(r),a=n(6),i=n.n(a),c=n(13),l=n.n(c),u=n(7),d=n.n(u),h=n(9),g=n.n(h),f=n(4),p=n.n(f),b=n(65),m=n(0),j=n(34),y=n(78),x=n(873),v=n(876),w=n(874),O=n(25),S=n.n(O),k=n(10),E=n(49),B=n(54),C=["2021-01-01","2021-01-02","2021-01-03","2021-01-04","2021-01-05","2021-01-06","2021-01-07","2021-01-08","2021-01-09","2021-01-10","2021-01-11","2021-01-12","2021-01-13","2021-01-14","2021-01-15","2021-01-16","2021-01-17","2021-01-18","2021-01-19","2021-01-20","2021-01-21","2021-01-22","2021-01-23","2021-01-24","2021-01-25","2021-01-26","2021-01-27","2021-01-28","2021-01-29","2021-01-30","2021-01-31","2021-02-01","2021-02-02","2021-02-03","2021-02-04","2021-02-05","2021-02-06","2021-02-07","2021-02-08","2021-02-09","2021-02-10","2021-02-11","2021-02-12","2021-02-13","2021-02-14","2021-02-15","2021-02-16","2021-02-17","2021-02-18","2021-02-19","2021-02-20","2021-02-21","2021-02-22","2021-02-23","2021-02-24","2021-02-25","2021-02-26","2021-02-27","2021-02-28","2021-03-01","2021-03-02","2021-03-03","2021-03-04","2021-03-05","2021-03-06","2021-03-07","2021-03-08","2021-03-09","2021-03-10","2021-03-11","2021-03-12","2021-03-13","2021-03-14","2021-03-15","2021-03-16","2021-03-17","2021-03-18","2021-03-19","2021-03-20","2021-03-21","2021-03-22","2021-03-23","2021-03-24","2021-03-25","2021-03-26","2021-03-27","2021-03-28","2021-03-29","2021-03-30","2021-03-31","2021-04-01","2021-04-02","2021-04-03","2021-04-04","2021-04-05","2021-04-06","2021-04-07","2021-04-08","2021-04-09","2021-04-10","2021-04-11","2021-04-12","2021-04-13","2021-04-14","2021-04-15","2021-04-16","2021-04-17","2021-04-18","2021-04-19","2021-04-20","2021-04-21","2021-04-22","2021-04-23","2021-04-24","2021-04-25","2021-04-26","2021-04-27","2021-04-28","2021-04-29","2021-04-30","2021-05-01","2021-05-02","2021-05-03","2021-05-04","2021-05-05","2021-05-06","2021-05-07","2021-05-08","2021-05-09","2021-05-10","2021-05-11","2021-05-12","2021-05-13","2021-05-14","2021-05-15","2021-05-16","2021-05-17","2021-05-18","2021-05-19","2021-05-20","2021-05-21","2021-05-22","2021-05-23","2021-05-24","2021-05-25","2021-05-26","2021-05-27","2021-05-28","2021-05-29","2021-05-30","2021-05-31","2021-06-01","2021-06-02","2021-06-03","2021-06-04","2021-06-05","2021-06-06","2021-06-07","2021-06-08","2021-06-09","2021-06-10","2021-06-11","2021-06-12","2021-06-13","2021-06-14","2021-06-15","2021-06-16","2021-06-17","2021-06-18","2021-06-19","2021-06-20","2021-06-21","2021-06-22","2021-06-23","2021-06-24","2021-06-25","2021-06-26","2021-06-27","2021-06-28","2021-06-29","2021-06-30","2021-07-01","2021-07-02","2021-07-03","2021-07-04","2021-07-05","2021-07-06","2021-07-07","2021-07-08","2021-07-09","2021-07-10","2021-07-11","2021-07-12","2021-07-13","2021-07-14","2021-07-15","2021-07-16","2021-07-17","2021-07-18","2021-07-19","2021-07-20","2021-07-21","2021-07-22","2021-07-23","2021-07-24","2021-07-25","2021-07-26","2021-07-27","2021-07-28","2021-07-29","2021-07-30","2021-07-31","2021-08-01","2021-08-02","2021-08-03","2021-08-04","2021-08-05","2021-08-06","2021-08-07","2021-08-08","2021-08-09","2021-08-10","2021-08-11","2021-08-12","2021-08-13","2021-08-14","2021-08-15","2021-08-16","2021-08-17","2021-08-18","2021-08-19","2021-08-20","2021-08-21","2021-08-22","2021-08-23","2021-08-24","2021-08-25","2021-08-26","2021-08-27","2021-08-28","2021-08-29","2021-08-30","2021-08-31","2021-09-01","2021-09-02","2021-09-03","2021-09-04","2021-09-05","2021-09-06","2021-09-07","2021-09-08","2021-09-09","2021-09-10","2021-09-11","2021-09-12","2021-09-13","2021-09-14","2021-09-15","2021-09-16","2021-09-17","2021-09-18","2021-09-19","2021-09-20","2021-09-21","2021-09-22","2021-09-23","2021-09-24","2021-09-25","2021-09-26","2021-09-27","2021-09-28","2021-09-29","2021-09-30","2021-10-01","2021-10-02","2021-10-03","2021-10-04","2021-10-05","2021-10-06","2021-10-07","2021-10-08","2021-10-09","2021-10-10","2021-10-11","2021-10-12","2021-10-13","2021-10-14","2021-10-15","2021-10-16","2021-10-17","2021-10-18","2021-10-19","2021-10-20","2021-10-21","2021-10-22","2021-10-23","2021-10-24","2021-10-25","2021-10-26","2021-10-27","2021-10-28","2021-10-29","2021-10-30","2021-10-31","2021-11-01","2021-11-02","2021-11-03","2021-11-04","2021-11-05","2021-11-06","2021-11-07","2021-11-08","2021-11-09","2021-11-10","2021-11-11","2021-11-12","2021-11-13","2021-11-14","2021-11-15","2021-11-16","2021-11-17","2021-11-18","2021-11-19","2021-11-20","2021-11-21","2021-11-22","2021-11-23","2021-11-24","2021-11-25","2021-11-26","2021-11-27","2021-11-28","2021-11-29","2021-11-30","2021-12-01","2021-12-02","2021-12-03","2021-12-04","2021-12-05","2021-12-06","2021-12-07","2021-12-08","2021-12-09","2021-12-10","2021-12-11","2021-12-12","2021-12-13","2021-12-14","2021-12-15","2021-12-16","2021-12-17","2021-12-18","2021-12-19","2021-12-20","2021-12-21","2021-12-22","2021-12-23","2021-12-24","2021-12-25","2021-12-26","2021-12-27","2021-12-28","2021-12-29","2021-12-30","2021-12-31","2022-01-01","2022-01-02","2022-01-03","2022-01-04","2022-01-05","2022-01-06","2022-01-07","2022-01-08","2022-01-09","2022-01-10","2022-01-11","2022-01-12","2022-01-13","2022-01-14","2022-01-15","2022-01-16","2022-01-17","2022-01-18","2022-01-19","2022-01-20","2022-01-21","2022-01-22","2022-01-23","2022-01-24","2022-01-25","2022-01-26","2022-01-27","2022-01-28","2022-01-29","2022-01-30","2022-01-31","2022-02-01","2022-02-02","2022-02-03","2022-02-04","2022-02-05","2022-02-06","2022-02-07","2022-02-08","2022-02-09","2022-02-10","2022-02-11","2022-02-12","2022-02-13","2022-02-14","2022-02-15","2022-02-16","2022-02-17","2022-02-18","2022-02-19","2022-02-20","2022-02-21","2022-02-22","2022-02-23","2022-02-24","2022-02-25","2022-02-26","2022-02-27","2022-02-28","2022-03-01","2022-03-02","2022-03-03","2022-03-04","2022-03-05","2022-03-06","2022-03-07","2022-03-08","2022-03-09","2022-03-10","2022-03-11","2022-03-12","2022-03-13","2022-03-14","2022-03-15","2022-03-16","2022-03-17","2022-03-18","2022-03-19","2022-03-20","2022-03-21","2022-03-22","2022-03-23","2022-03-24","2022-03-25","2022-03-26","2022-03-27","2022-03-28","2022-03-29","2022-03-30","2022-03-31","2022-04-01","2022-04-02","2022-04-03","2022-04-04","2022-04-05","2022-04-06","2022-04-07","2022-04-08","2022-04-09","2022-04-10","2022-04-11","2022-04-12","2022-04-13","2022-04-14","2022-04-15","2022-04-16","2022-04-17","2022-04-18","2022-04-19","2022-04-20","2022-04-21","2022-04-22","2022-04-23","2022-04-24","2022-04-25","2022-04-26","2022-04-27","2022-04-28","2022-04-29","2022-04-30","2022-05-01","2022-05-02","2022-05-03","2022-05-04","2022-05-05","2022-05-06","2022-05-07","2022-05-08","2022-05-09","2022-05-10","2022-05-11","2022-05-12","2022-05-13","2022-05-14","2022-05-15","2022-05-16","2022-05-17","2022-05-18","2022-05-19","2022-05-20","2022-05-21","2022-05-22","2022-05-23","2022-05-24","2022-05-25","2022-05-26","2022-05-27","2022-05-28","2022-05-29","2022-05-30","2022-05-31","2022-06-01","2022-06-02","2022-06-03","2022-06-04","2022-06-05","2022-06-06","2022-06-07","2022-06-08","2022-06-09","2022-06-10","2022-06-11","2022-06-12","2022-06-13","2022-06-14","2022-06-15","2022-06-16","2022-06-17","2022-06-18","2022-06-19","2022-06-20","2022-06-21","2022-06-22","2022-06-23","2022-06-24","2022-06-25","2022-06-26","2022-06-27","2022-06-28","2022-06-29","2022-06-30"],P=n(252),T=n(16),I={mainView:{flex:1,marginTop:P.a.currentHeight},postButton:{position:"absolute",height:60,width:60,borderRadius:30,bottom:"0%",alignSelf:"center",backgroundColor:"rgba(0,0,0,1)",justifyContent:"center"},postButtonLabel:{alignSelf:"center"},scrollView:{paddingHorizontal:"web"!=T.a.OS?"5%":"25%",width:"100%",alignSelf:"center"},section:{paddingVertical:"16%",borderBottomWidth:1,borderColor:"rgba(155,155,155,0.3)"},sectionTitle:{paddingVertical:7.5,fontSize:18,color:"white",fontWeight:"400"},card:{marginTop:"5%",paddingVertical:5,paddingHorizontal:10,borderRadius:20,backgroundColor:"rgba(0,0,0,0.2)"},cardRow:{flexDirection:"row",paddingVertical:5,alignItems:"center"},moodBadge:{fontFamily:"sans-serif",backgroundColor:"green",borderRadius:30,paddingVertical:6,width:130,fontSize:16,textAlign:"center"},emotionBadge:{fontFamily:"sans-serif",backgroundColor:"aliceblue",borderRadius:30,paddingVertical:7,paddingHorizontal:12.5,marginRight:6,fontSize:15,textAlign:"center"},textBadge:{fontFamily:"sans-serif",backgroundColor:"aliceblue",borderRadius:20,paddingVertical:4,paddingHorizontal:10,width:"100%",fontSize:14,lineHeight:22,textAlign:"left"},text:{fontFamily:"sans-serif",fontSize:14,color:"white"},spaceBetween:{justifyContent:"space-between"},icon:{paddingHorizontal:12},entryIcon:{paddingRight:30}},R=n(17);function z(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=p()(t);if(e){var r=p()(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return g()(this,n)}}console.log("Navigator.arguments: "+JSON.stringify(Navigator.arguments));function D(){var t,e=Date().toString().split(" ");return[e[3],(t=e[1],["01","02","03","04","05","06","07","08","09","10","11","12"][["Jan","Feb","Mar","Apr","Jun","Jul","Ago","Sep","Oct","Nov","Dec"].indexOf(t)]),e[2]].join("-")}function A(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"next",n=C[C.indexOf(t)+("previous"==e?-1:1)];return n}var H=(new Date).toString().split(" ");H[2],H[1];function V(t){var e=t.entry;return e.address?Object(R.jsxs)(k.a,{style:I.cardRow,children:[Object(R.jsx)(b.Icon,{name:"pin",height:16,width:16,fill:"rgba(255,255,255,0.75)",style:I.icon}),Object(R.jsx)(j.a,{style:I.text,children:e.address})]}):Object(R.jsx)(R.Fragment,{})}function M(t){var e=t.entry;return e.jornal?Object(R.jsx)(j.a,{style:I.textBadge,children:e.jornal}):Object(R.jsx)(R.Fragment,{})}function U(t){var e=t.entry;return e.emotions.length>0?e.emotions.map((function(t,e){return Object(R.jsx)(j.a,{style:I.emotionBadge,children:t},e)})):Object(R.jsx)(R.Fragment,{})}var N={"Horr\xedvel":"red",Mau:"blue",Regular:"grey",Good:"orange",Bem:"orange","\xd3timo":"green",Great:"green"};function L(t){var e=t.entry;return Object(R.jsxs)(k.a,{style:I.card,children:[Object(R.jsxs)(k.a,{style:[I.cardRow,I.spaceBetween],children:[Object(R.jsx)(j.a,{style:[I.moodBadge,{backgroundColor:N[e.mood]}],children:e.mood}),Object(R.jsxs)(k.a,{style:[I.cardRow],children:[Object(R.jsx)(b.Icon,{name:"edit",height:18,width:18,fill:"rgba(255,255,255,0.75)",style:I.icon}),Object(R.jsx)(j.a,{style:I.text,children:e.time})]})]}),Object(R.jsx)(k.a,{style:I.cardRow,children:Object(R.jsx)(U,{entry:e})}),Object(R.jsx)(V,{entry:e}),Object(R.jsx)(k.a,{style:I.cardRow,children:Object(R.jsx)(M,{entry:e})})]},e._id)}var F=function(t){d()(o,t);var e=z(o);function o(t){var n;return s()(this,o),(n=e.call(this,t)).state={userEntries:[],date:D(),time:Date().toString().split(" ")[4],selectedDate:D(),isLoading:!1,isDataSynced:!1},n.showTodayIfNewEntry=n.showTodayIfNewEntry.bind(l()(n)),n.onNextButtonPress=n.onNextButtonPress.bind(l()(n)),n.loadUserData=n.loadUserData.bind(l()(n)),n}return i()(o,[{key:"onNextButtonPress",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next";function e(){this.setState({selectedDate:A(this.state.selectedDate,t)})}return e=e.bind(this)}},{key:"showTodayIfNewEntry",value:function(){console.log("Checking if user just posted an entry..."),this.props.route.params&&(this.props.route.params.newPost?(console.log("Checked, user posted. Setting today as selected date..."),this.setState({selectedDate:D(),isDataSynced:!1}),this.props.navigation.setParams({newPost:!1})):console.log("Checked, user did not just post."))}},{key:"loadUserData",value:function(){var t,e,n,o;return S.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(!this.state.isDataSynced&!this.state.isLoading)){r.next=33;break}return t=this.props.route.params.userInfo,this.setState({isLoading:!0}),r.prev=3,console.log("Attempting to sync user entries..."),r.next=7,S.a.awrap(fetch("https://morning-journey-78874.herokuapp.com/https://mood-tracker-server.herokuapp.com/Users",{method:"GET"}));case 7:if((e=r.sent).ok){r.next=13;break}throw console.log("fetch GET request failed. Throwing error..."),new Error(e.status+", "+e.statusText+". For GET request in url: "+e.url);case 13:return console.log("fetch GET request successful."),console.log(e.status+", "+e.statusText+". For GET request in url: "+e.url),r.next=17,S.a.awrap(e.json());case 17:n=r.sent,o=n.filter((function(e){return e.username===t.username}))[0],this.setState({userEntries:o.entries.reverse(),isDataSynced:!0}),console.log("User entries successfully synced!");case 21:r.next=28;break;case 23:r.prev=23,r.t0=r.catch(3),alert("Erro ao carregar entradas, tente novamente."),console.log("Erro capturado:"),console.log(r.t0);case 28:return r.prev=28,this.setState({isLoading:!1}),r.finish(28);case 31:r.next=34;break;case 33:console.log("User data loading or already synced, skipping sync...");case 34:case"end":return r.stop()}}),null,this,[[3,23,28,31]],Promise)}},{key:"render",value:function(){var t=this,e=this.state.selectedDate===this.state.date;return this.showTodayIfNewEntry(),this.loadUserData(),Object(R.jsxs)(y.a,{source:n(140),style:[I.mainView],children:[Object(R.jsx)(B.a,{style:I.scrollView,children:Object(R.jsxs)(k.a,{style:I.section,children:[Object(R.jsxs)(k.a,{style:[I.cardRow,{justifyContent:"space-between"}],children:[Object(R.jsx)(E.a,{onPress:this.onNextButtonPress("previous"),children:Object(R.jsx)(b.Icon,{name:"arrow-back",width:35,height:35,fill:"white"})}),Object(R.jsx)(j.a,{style:I.sectionTitle,children:"Suas entradas  \u2022  "+(this.state.selectedDate===this.state.date?"Hoje, ":"")+this.state.selectedDate}),e?Object(R.jsx)(k.a,{}):Object(R.jsx)(E.a,{onPress:this.onNextButtonPress(),children:Object(R.jsx)(b.Icon,{name:"arrow-forward",width:35,height:35,fill:"white"})})]}),this.state.userEntries.filter((function(e){return e.date===t.state.selectedDate})).map((function(t){return Object(R.jsx)(L,{entry:t})}))]})}),Object(R.jsx)(E.a,{onPress:function(){t.props.navigation.navigate("PostEntrance",{})},style:[I.postButton],children:Object(R.jsx)(b.Icon,{name:"plus-circle",width:72,height:72,fill:"white",style:I.postButtonLabel})})]})}}]),o}(m.Component),G=n(8),J=n.n(G),W=n(251),q={entrances:{marginTop:27.5,borderWidth:0,flex:1,justifyContent:"space-between",alignItems:"flex-start",paddingVertical:"0%",paddingHorizontal:"0%"},content:{flexGrow:1,paddingBottom:"0%",paddingHorizontal:"6%",alignSelf:"stretch",borderColor:"black"},section:{paddingVertical:"10%",paddingHorizontal:"10%",justifyContent:"flex-start",borderTopWidth:1,borderBottomWidth:1},contentRow:{flexDirection:"column",padding:10,marginTop:22,borderWidth:1,borderColor:"rgba(155,155,155, 0.4)",borderRadius:30,backgroundColor:"rgba(255,255,255, 0.3)"},entryTitle:{paddingBottom:3,paddingLeft:5,fontSize:19,color:"white"},postButtonView:{height:60,width:60,borderRadius:30,alignSelf:"center",justifyContent:"center",alignItems:"center",backgroundColor:"white"},postButton:{},postButtonLabel:{fontSize:45,fontWeight:"bold"},moodButton:{borderRadius:30,justifyContent:"center"},date:{position:"relative",left:"60%",paddingVertical:8,paddingHorizontal:10,fontSize:15,alignSelf:"center",backgroundColor:"white",borderRadius:20},jornalText:{paddingVertical:5,paddingHorizontal:10,minHeight:100,width:"100%",borderRadius:20,color:"white",fontSize:14},saveButton:{height:50,width:"100%",borderTopLeftRadius:30,borderTopRightRadius:30,justifyContent:"center",alignItems:"center",backgroundColor:"white"},card:{marginTop:"5%",paddingVertical:5,paddingHorizontal:10,borderRadius:20,backgroundColor:"rgba(255,255,255,0.3)"},cardRow:{flexDirection:"row",paddingVertical:5,alignItems:"center"},moodBadge:{backgroundColor:"green",borderRadius:30,paddingVertical:6,width:130,fontSize:16,textAlign:"center"},emotionBadge:{backgroundColor:"rgba(1,1,1,0.5)",borderRadius:30,paddingVertical:7,paddingHorizontal:12.5,marginRight:6,fontSize:15,textAlign:"center"}};function K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K(Object(n),!0).forEach((function(e){J()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Q(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=p()(t);if(e){var r=p()(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return g()(this,n)}}q.emotionBadge={backgroundColor:"rgba(1,1,1,0.5)",borderRadius:30,paddingVertical:7,paddingHorizontal:12.5,marginRight:6,fontSize:15,textAlign:"center"},q.text={fontSize:14};for(var X=(new Date).toString().split(" "),Y=X[2]+" "+X[1]+" "+X[3]+" - "+X[4].slice(0,5),Z=["Animado(a)","Concentrado(a)","Desinibido(a)","Motivado(a)","Energizado(a)","Euforico(a)","Emocionado(a)","Amor"],$=["Al\xedviado(a)","Calmo(a)","Confort\xe1vel","Despreocupado(a)","Inspirado(a)","Orgulhoso(a)","Paz","Relaxado(a)","Satisfeito(a)","Seguro(a)"],tt=["Agitado(a)","Ansioso(a)","Triste","Decepcionado(a)","Depressivo(a)","Desesperado(a)","Frustrado(a)","Insatisfeito(a)","Irritado(a)","Medo","Paranoico(a)","Preocupado(a)","Impaciente","Raiva","Revoltado(a)","Sobrecarregado(a)","Tenso(a)","Anti-social","Enojado(a)"],et=["Timido(a)","Cansado(a)","Confuso(a)","Desanimado(a)","Vergonha","Inseguro(a)","Ap\xe1tico(a)","Solit\xe1rio(a)","Tedio"],nt=[].concat(Z,$,tt,et),ot=[Z,$,tt,et],rt=["Bem & Energizado","Bem & Calmo","Mal e Energizado","Mal & Calmo"],st={},at=0;at<nt.length;at++)st[nt[at]]=!1;function it(){var t,e=Date().toString().split(" ");return[e[3],(t=e[1],["01","02","03","04","05","06","07","08","09","10","11","12"][["Jan","Feb","Mar","Apr","Jun","Jul","Ago","Sep","Oct","Nov","Dec"].indexOf(t)]),e[2]].join("-")}function ct(){var t=Date().toString().split(" ")[4].slice(0,5),e=parseInt(t.slice(0,2)),n=parseInt(t.slice(3,5));return t=e>12?(1==(e-12).toString().length?"0"+(e-12):e-12)+":"+n+" PM":(1==e.toString().length?"0"+e:e)+":"+n+" AM"}var lt=function(t){d()(o,t);var e=Q(o);function o(t){var n;return s()(this,o),(n=e.call(this,t)).state={moodButtons:{colors:["darkred","lightblue","darkgrey","pink","lightgreen"],colorsSelected:["red","blue","grey","purple","green"],moods:["Horrivel","Mal","Regular","Bem","\xd3timo"]},emotionButtons:{isSelectedEmotions:st,basicEmotions:nt,emotionGroups:ot},star:!1,selectedMood:null,jornalEntry:"",emotions:[],address:"",startTime:ct(),selectedEntry:"Mood",isLoading:!1},n.onSaveButtonPress=n.onSaveButtonPress.bind(l()(n)),n.EmotionButtons=n.EmotionButtons.bind(l()(n)),n.MoodButtons=n.MoodButtons.bind(l()(n)),n.postEntryHeader=n.postEntryHeader.bind(l()(n)),n.onEmotionButtonPress=n.onEmotionButtonPress.bind(l()(n)),n.onMoodButtonPress=n.onMoodButtonPress.bind(l()(n)),n.inputSection=n.inputSection.bind(l()(n)),n.setSelectedEntry=n.setSelectedEntry.bind(l()(n)),n.InputCard=n.InputCard.bind(l()(n)),n.JornalInput=n.JornalInput.bind(l()(n)),n.postNewEntryAsync=n.postNewEntryAsync.bind(l()(n)),n}return i()(o,[{key:"postEntryHeader",value:function(){var t=this;return Object(R.jsxs)(k.a,{style:[I.cardRow,{justifyContent:"space-between"}],children:[Object(R.jsx)(E.a,{onPress:function(){t.props.navigation.goBack()},style:q.postButton,children:Object(R.jsx)(b.Icon,{name:"arrow-back",fill:"white",height:30,width:30})}),Object(R.jsxs)(k.a,{style:[I.emotionBadge,{flexDirection:"row"}],children:[Object(R.jsxs)(j.a,{children:[" ",Y," "]}),Object(R.jsx)(b.Icon,{name:"edit",fill:"rgba(75,75,75,1)",height:20,width:20})]}),Object(R.jsx)(E.a,{onPress:function(){t.setState({star:!t.state.star})},style:q.postButton,children:Object(R.jsx)(b.Icon,{name:this.state.star?"star":"star-outline",fill:"rgba(245,245,245,0.7)",height:30,width:30})})]})}},{key:"onMoodButtonPress",value:function(t){function e(){this.state.selectedMood==t?this.setState({selectedMood:null}):this.setState({selectedMood:t})}return e=e.bind(this)}},{key:"onEmotionButtonPress",value:function(t){function e(){this.setState({emotionButtons:_(_({},this.state.emotionButtons),{},{isSelectedEmotions:_(_({},this.state.emotionButtons.isSelectedEmotions),{},J()({},t,!this.state.emotionButtons.isSelectedEmotions[t]))})})}return e=e.bind(this)}},{key:"MoodButtons",value:function(){var t=this;return this.state.moodButtons.moods.map((function(e,n){return Object(R.jsx)(k.a,{style:{width:65,height:65,alignItems:"center",justifyContent:"center"},children:Object(R.jsx)(E.a,{title:e,onPress:t.onMoodButtonPress(e),style:[q.moodButton,t.state.selectedMood==e?{height:60,width:60,fontWeight:"bold",backgroundColor:t.state.moodButtons.colorsSelected[n],borderWidth:2,borderColor:t.state.moodButtons.colors[n]}:{height:50,width:50,fontWeight:null,backgroundColor:t.state.moodButtons.colors[n]}],children:Object(R.jsx)(j.a,{style:{textAlign:"center",textAlignVertical:"center"},children:e})})},"mood "+n)}))}},{key:"EmotionButtons",value:function(t){var e=this;return t.map((function(t){return Object(R.jsx)(E.a,{title:t,style:{paddingVertical:5},onPress:e.onEmotionButtonPress(t),children:Object(R.jsx)(j.a,{style:[q.emotionBadge,{backgroundColor:e.state.emotionButtons.isSelectedEmotions[t]?"steelblue":"white"}],children:t})})}))}},{key:"JornalInput",value:function(){var t=this;return Object(R.jsx)(W.a,{multiline:!0,placeholder:"Today was...",style:q.jornalText,onChangeText:function(e){return t.setState({jornalEntry:e})},value:this.state.jornalEntry})}},{key:"setSelectedEntry",value:function(t){function e(){this.setState({selectedEntry:this.state.selectedEntry===t?null:t})}return e=e.bind(this)}},{key:"inputSection",value:function(t,e,n){return this.state.selectedEntry===t?"Emotions"==t?this.state.emotionButtons.emotionGroups.map((function(t,o){return Object(R.jsxs)(k.a,{style:{width:"100%",alignItems:"center"},children:[Object(R.jsx)(j.a,{style:{fontSize:15,color:"white",paddingVertical:11},children:rt[o]}),Object(R.jsx)(k.a,{style:[I.cardRow,e],children:n(t)},o)]})})):Object(R.jsx)(k.a,{style:[I.cardRow,e],children:n}):Object(R.jsx)(R.Fragment,{})}},{key:"InputCard",value:function(t,e,n,o,r){return Object(R.jsxs)(k.a,{style:[I.card],children:[Object(R.jsxs)(E.a,{style:I.cardRow,onPress:this.setSelectedEntry(t),children:[Object(R.jsx)(b.Icon,{name:n,fill:"rgba(255,255,255,0.75)",height:25,width:25,style:I.entryIcon}),Object(R.jsxs)(j.a,{style:q.entryTitle,children:[" ",e," "]})]}),this.inputSection(t=t,o=o,r=r)]})}},{key:"onSaveButtonPress",value:function(){var t=this;if(this.state.selectedMood){var e={jornal:this.state.jornalEntry,mood:this.state.selectedMood,emotions:this.state.emotionButtons.basicEmotions.filter((function(e){return t.state.emotionButtons.isSelectedEmotions[e]})),address:this.state.address,date:it(),startTime:this.state.startTime,endTime:ct(),star:this.state.star};this.postNewEntryAsync(e)}else alert("Necess\xe1rio adicionar uma avalia\xe7\xe3o.")}},{key:"postNewEntryAsync",value:function(t){var e,n,o;return S.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return this.setState({isLoading:!0}),e=this.props.route.params.userInfo,r.prev=2,n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},r.next=6,S.a.awrap(fetch("https://morning-journey-78874.herokuapp.com/https://mood-tracker-server.herokuapp.com/Users/"+e.username+"/entries",n));case 6:if(!(o=r.sent).ok){r.next=13;break}console.log("fetch POST request successful. Printing response status..."),console.log("Status: "+o.status+", "+o.statusText),this.props.navigation.navigate("Entrances",{newPost:!0}),r.next=15;break;case 13:throw console.log("fetch POST request failed. Throwing error status..."),new Error("Status: "+o.status+", "+o.statusText);case 15:r.next=22;break;case 17:r.prev=17,r.t0=r.catch(2),alert("Erro no servidor, n\xe3o foi poss\xedvel adicionar a entrada. Por favor, tente novamente."),console.log("Erro capturado:"),console.log(r.t0);case 22:return r.prev=22,this.setState({isLoading:!1}),r.finish(22);case 25:case"end":return r.stop()}}),null,this,[[2,17,22,25]],Promise)}},{key:"render",value:function(){return Object(R.jsxs)(y.a,{source:n(140),style:{width:"100%",height:"100%"},children:[Object(R.jsx)(B.a,{style:I.scrollView,children:Object(R.jsxs)(k.a,{style:I.section,children:[this.postEntryHeader(),this.InputCard("Mood","Avalia\xe7\xe3o","activity",{justifyContent:"space-between"},this.MoodButtons()),this.InputCard("Emotions","Emo\xe7\xf5es","color-palette",{flexWrap:"wrap",justifyContent:"space-evenly"},this.EmotionButtons),this.InputCard("Jornal","Jornal","book-open",{flexDirection:"column"},this.JornalInput())]})}),Object(R.jsx)(E.a,{onPress:this.onSaveButtonPress,style:q.saveButton,children:Object(R.jsx)(j.a,{style:{fontWeight:"bold",fontSize:17},children:"Salvar"})})]})}}]),o}(m.Component),ut=n(93);function dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(n),!0).forEach((function(e){J()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=p()(t);if(e){var r=p()(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return g()(this,n)}}var ft={login:{mainView:{flex:1,justifyContent:"center",alignItems:"center"},card:{height:"70%",width:350,paddingHorizontal:10,paddingVertical:10,borderWidth:1,borderRadius:10,backgroundColor:"azure"},cardHeader:{height:"30%",fontSize:25,fontWeight:"bold",color:"black",paddingTop:30,paddingBottom:50,paddingLeft:15},cardSection:{height:"25%",justifyContent:"space-evenly",alignItems:"center"},inputField:{height:40,width:"100%",paddingLeft:10,fontSize:14,borderRadius:5,borderWidth:1,borderColor:"grey",backgroundColor:"white"},button:{height:40,width:"100%",borderRadius:5,borderWidth:1,borderColor:"grey",textAlign:"center",justifyContent:"center",backgroundColor:"dodgerblue"},buttonLabel:{fontSize:15,fontWeight:"bold",color:"black"},text:{fontSize:15,textAlign:"center"},loadingIcon:{alignSelf:"center"}}},pt=function(t){d()(o,t);var e=gt(o);function o(t){var n;return s()(this,o),(n=e.call(this,t)).state={userInfo:{password:"",email:"",username:""},isUserAuth:!1,isLoading:!1},n.onChangeText=n.onChangeText.bind(l()(n)),n.submitButton=n.submitButton.bind(l()(n)),n.onSignIn=n.onSignIn.bind(l()(n)),n.onSignUp=n.onSignUp.bind(l()(n)),n}return i()(o,[{key:"loadingIcon",value:function(){return this.state.isLoading?Object(R.jsx)(b.Icon,{name:"loader-outline",animation:"pulse",width:25,height:25}):Object(R.jsx)(R.Fragment,{})}},{key:"onChangeText",value:function(t){function e(e){this.setState({userInfo:ht(ht({},this.state.userInfo),{},J()({},t,e))})}return e=e.bind(this)}},{key:"submitButton",value:function(t){var e="signin"==t;return Object(R.jsx)(E.a,{onPress:e?this.onSignIn:this.onSignUp,style:[ft.login.button],children:Object(R.jsx)(j.a,{style:ft.login.buttonLabel,children:e?"Entrar":"Cadastrar-se"})})}},{key:"onSignIn",value:function(){var t,e,n,o;return S.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=this.state.userInfo,this.setState({isLoading:!0}),r.prev=2,r.next=5,S.a.awrap(fetch("https://morning-journey-78874.herokuapp.com/https://mood-tracker-server.herokuapp.com/Users",{method:"GET"}));case 5:if(!(e=r.sent).ok){r.next=10;break}console.log("fetch GET request successful."),r.next=12;break;case 10:throw console.log("fetch GET request failed. Throwing error..."),new Error(e.status+", "+e.statusText+". For GET request in url: "+e.url);case 12:return r.next=14,S.a.awrap(e.json());case 14:if(n=r.sent,!(o=n.filter((function(e){return e.email===t.email}))[0])){r.next=29;break}if(o.password!==t.password){r.next=23;break}alert("Login realizado com sucesso!"),this.setState({isUserAuth:!0,userInfo:ht(ht({},t),{},{username:t.email.split("@")[0]})}),this.props.authUser(this.state.userInfo),r.next=27;break;case 23:return"Senha incorreta",alert("Senha incorreta"),console.log("Senha incorreta"),r.abrupt("return");case 27:r.next=33;break;case 29:return"Email n\xe3o cadastrado.",alert("Email n\xe3o cadastrado."),console.log("Email n\xe3o cadastrado."),r.abrupt("return");case 33:r.next=40;break;case 35:r.prev=35,r.t0=r.catch(2),alert("Opera\xe7\xe3o n\xe3o conclu\xedda, tente novamente."),console.log("Erro capturado:"),console.log(r.t0);case 40:return r.prev=40,this.setState({isLoading:!1}),r.finish(40);case 43:case"end":return r.stop()}}),null,this,[[2,35,40,43]],Promise)}},{key:"onSignUp",value:function(){var t,e,n,o,r;return S.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return this.setState({isLoading:!0}),t=this.state.userInfo,s.prev=2,s.next=5,S.a.awrap(fetch("https://morning-journey-78874.herokuapp.com/https://mood-tracker-server.herokuapp.com/Users",{method:"GET"}));case 5:if(!(e=s.sent).ok){s.next=10;break}console.log("fetch GET request successful."),s.next=12;break;case 10:throw console.log("fetch GET request failed. Throwing error."),new Error(e.status+", "+e.statusText+". For GET request in url: "+e.url);case 12:return s.next=14,S.a.awrap(e.json());case 14:if(!s.sent.filter((function(e){return e.email===t.email}))[0]){s.next=22;break}return n="Email j\xe1 cadastrado.",alert(n),console.log(n),s.abrupt("return");case 22:return t.username=t.email.split("@")[0],o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ht({entries:[]},t))},s.next=26,S.a.awrap(fetch("https://morning-journey-78874.herokuapp.com/https://mood-tracker-server.herokuapp.com/Users/"+t.username,o));case 26:if(!(r=s.sent).ok){s.next=34;break}console.log("fetch POST request successful."),console.log("Status: "+r.status+", "+r.statusText+". For POST request in url: "+r.url),this.onSignIn(),alert("Cadastro realizado com sucesso. Fazendo login..."),s.next=36;break;case 34:throw console.log("fetch POST request failed. Throwing error..."),new Error("Status: "+r.status+", "+r.statusText+". For GET request in url: "+r.url);case 36:s.next=43;break;case 38:s.prev=38,s.t0=s.catch(2),alert("Erro no servidor, n\xe3o foi poss\xedvel realizar o cadastro. Por favor, tente novamente."),console.log("Erro capturado:"),console.log(s.t0);case 43:return s.prev=43,this.setState({isLoading:!1}),s.finish(43);case 46:case"end":return s.stop()}}),null,this,[[2,38,43,46]],Promise)}},{key:"render",value:function(){return Object(R.jsx)(y.a,{source:n(140),style:[ft.login.mainView],children:Object(R.jsxs)(k.a,{style:ft.login.card,children:[Object(R.jsx)(j.a,{style:ft.login.cardHeader,children:"Entrar"}),Object(R.jsxs)(k.a,{style:ft.login.cardSection,children:[Object(R.jsx)(ut.a,{placeholder:"Email",onChangeText:this.onChangeText("email"),style:ft.login.inputField}),Object(R.jsx)(ut.a,{placeholder:"Senha",onChangeText:this.onChangeText("password"),style:ft.login.inputField})]}),Object(R.jsxs)(k.a,{style:ft.login.cardSection,children:[this.submitButton("signin"),this.submitButton("signup")]}),Object(R.jsx)(k.a,{style:ft.login.cardSection,children:this.loadingIcon()})]})})}}]),o}(m.Component);function bt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=p()(t);if(e){var r=p()(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return g()(this,n)}}var mt=Object(w.a)(),jt=Object(v.a)();function yt(t){return Object(R.jsxs)(jt.Navigator,{initialRouteName:"Entrances",screenOptions:{headerShown:!1},children:[Object(R.jsx)(jt.Screen,{name:"Entrances",component:F,options:{title:"Suas entradas"},initialParams:{userInfo:t.route.params.userInfo}}),Object(R.jsx)(jt.Screen,{name:"PostEntrance",component:lt,options:{title:"Adicione uma  entrada"},initialParams:{userInfo:t.route.params.userInfo}})]})}function xt(){return Object(R.jsx)(y.a,{source:n(140),style:{width:"100%",height:"100%"},children:Object(R.jsx)(j.a,{children:"Settings"})})}var vt=function(t){var e=t.route;return{headerShown:!1,tabBarActiveTintColor:"tomato",tabBarInactiveTintColor:"gray",tabBarHideOnKeyboard:!0,tabBarIcon:function(t){var n,o=t.focused,r=(t.color,t.size);return"Home"===e.name?n=o?"book":"book-outline":"Settings"===e.name&&(n=o?"settings":"settings-outline"),Object(R.jsx)(b.Icon,{name:n,width:r,height:r,fill:"grey"})}}},wt=function(t){d()(n,t);var e=bt(n);function n(t){var o;return s()(this,n),(o=e.call(this,t)).state={isUserAuth:!1,userInfo:null},o.authUser=o.authUser.bind(l()(o)),o}return i()(n,[{key:"authUser",value:function(t){this.setState({isUserAuth:!0,userInfo:t})}},{key:"render",value:function(){return this.state.isUserAuth?Object(R.jsx)(x.a,{children:Object(R.jsxs)(mt.Navigator,{screenOptions:vt,children:[Object(R.jsx)(mt.Screen,{name:"Home",component:yt,initialParams:{userInfo:this.state.userInfo}}),Object(R.jsx)(mt.Screen,{name:"Settings",component:xt,initialParams:{userInfo:this.state.userInfo}})]})}):Object(R.jsx)(pt,{authUser:this.authUser})}}]),n}(m.Component);Object(o.a)(wt)}},[[257,1,2]]]);
//# sourceMappingURL=app.05c62344.chunk.js.map